import{_ as B,Q as V,d as S,a as o,b as t,w as s,r as l,i as U,f as r,m as A,D as j,o as z}from"./app-DFB2AWLk.js";import{r as _}from"./uploads-CnEkgyD_.js";const C={data(){return{form:{email:"",password:""},loading:!1,showPassword:!1,brandingLogo:null,rules:{required:n=>!!n||"This field is required",email:n=>/.+@.+\..+/.test(n)||"E-mail must be valid"}}},computed:{logoUrl(){return this.brandingLogo?_(this.brandingLogo):null}},async mounted(){await this.loadBrandingSettings()},methods:{...V(j,["login"]),async handleLogin(){var e,c;const{valid:n}=await this.$refs.form.validate();if(n){this.loading=!0;try{await this.login(this.form),this.$router.push({name:"AdminDashboard"})}catch(a){let i="Login failed";if(a.response){if((e=a.response.data)!=null&&e.message)i=a.response.data.message;else if((c=a.response.data)!=null&&c.errors){const f=a.response.data.errors;i=Object.values(f).flat().join(", ")}}window.Swal?window.Swal.fire({icon:"error",title:"Authentication Failed",text:i,confirmButtonColor:"#d33",background:"#fff",iconColor:"#d33"}):alert(i)}finally{this.loading=!1}}},resolveImageUrl(n){return _(n)},async loadBrandingSettings(){try{const n=await this.$axios.get("/api/openapi/settings?group=branding");n.data&&n.data.logo&&(this.brandingLogo=n.data.logo)}catch(n){console.error("Error loading branding settings:",n)}}}},D={class:"login-container fill-height"},q={class:"brand-logo mb-6"},E={class:"d-flex d-md-none justify-center mb-6"},I={class:"text-center mt-4"},N={class:"powered-by-info"},T={class:"info-item mb-3"},W={class:"info-label"},F={class:"info-item mb-3"},M={class:"info-label"},O={class:"info-item mb-2"},Q={class:"info-label"};function G(n,e,c,a,i,f){const u=l("v-img"),p=l("v-col"),g=l("v-text-field"),d=l("v-icon"),w=l("v-btn"),x=l("v-form"),y=l("v-card-title"),h=l("v-divider"),L=l("v-card-text"),v=l("v-card"),P=l("v-menu"),b=l("v-row"),k=l("v-container");return z(),S("div",D,[e[22]||(e[22]=o("div",{class:"background-shapes"},[o("div",{class:"shape shape-1"}),o("div",{class:"shape shape-2"}),o("div",{class:"shape shape-3"})],-1)),t(k,{class:"fill-height d-flex align-center justify-center",fluid:""},{default:s(()=>[t(b,{justify:"center"},{default:s(()=>[t(p,{cols:"12",sm:"10",md:"8",lg:"6",xl:"4"},{default:s(()=>[t(v,{class:"login-card glass-effect",elevation:"24"},{default:s(()=>[t(b,{"no-gutters":""},{default:s(()=>[t(p,{cols:"12",md:"6",class:"d-none d-md-flex flex-column align-center justify-center branding-section pa-8"},{default:s(()=>[o("div",q,[t(u,{src:f.logoUrl||"/assets/logo/default.png",alt:"Logo",width:"120",class:"drop-shadow rounded-logo",cover:""},null,8,["src"])]),e[3]||(e[3]=o("h2",{class:"text-white text-h4 font-weight-bold mb-2 text-center"},"Welcome Back!",-1)),e[4]||(e[4]=o("p",{class:"text-white text-body-1 text-center opacity-80"}," Sign in to access your dashboard and manage your business efficiently. ",-1))]),_:1}),t(p,{cols:"12",md:"6",class:"form-section pa-8 bg-white"},{default:s(()=>[o("div",E,[t(u,{src:f.logoUrl||"/assets/logo/default.png",alt:"Logo",width:"80",class:"rounded-logo",cover:""},null,8,["src"])]),e[20]||(e[20]=o("h3",{class:"text-h5 font-weight-bold text-primary mb-1 text-center text-md-left"},"Admin Login",-1)),e[21]||(e[21]=o("p",{class:"text-caption text-grey mb-8 text-center text-md-left"},"Please enter your credentials to continue",-1)),t(x,{onSubmit:U(f.handleLogin,["prevent"]),ref:"form"},{default:s(()=>[t(g,{modelValue:i.form.email,"onUpdate:modelValue":e[0]||(e[0]=m=>i.form.email=m),label:"Email Address",placeholder:"admin@example.com",type:"email",variant:"outlined",color:"primary","prepend-inner-icon":"mdi-email-outline",rules:[i.rules.required,i.rules.email],class:"mb-2",density:"comfortable"},null,8,["modelValue","rules"]),t(g,{modelValue:i.form.password,"onUpdate:modelValue":e[1]||(e[1]=m=>i.form.password=m),label:"Password",placeholder:"••••••••",type:i.showPassword?"text":"password",variant:"outlined",color:"primary","prepend-inner-icon":"mdi-lock-outline","append-inner-icon":i.showPassword?"mdi-eye-off":"mdi-eye","onClick:appendInner":e[2]||(e[2]=m=>i.showPassword=!i.showPassword),rules:[i.rules.required],class:"mb-6",density:"comfortable"},null,8,["modelValue","type","append-inner-icon","rules"]),t(w,{type:"submit",color:"primary",block:"",size:"large",loading:i.loading,class:"login-btn text-capitalize font-weight-bold mb-4",elevation:"4"},{default:s(()=>[e[5]||(e[5]=r(" Sign In ",-1)),t(d,{end:"",icon:"mdi-arrow-right",class:"ml-2"})]),_:1},8,["loading"])]),_:1},8,["onSubmit"]),o("div",I,[t(P,{"open-on-hover":"",location:"top"},{activator:s(({props:m})=>[o("p",A({class:"text-caption text-grey"},m,{style:{cursor:"pointer"}}),[e[7]||(e[7]=r(" Powered By DigiLiftPro ",-1)),e[8]||(e[8]=o("a",{href:"https://digiliftpro.com",target:"_blank",style:{"text-decoration":"none",color:"inherit",opacity:"0.9"}},"https://digiliftpro.com",-1)),t(d,{size:"x-small",class:"ml-1"},{default:s(()=>[...e[6]||(e[6]=[r("mdi-information-outline",-1)])]),_:1})],16)]),default:s(()=>[t(v,{class:"powered-by-card","min-width":"280"},{default:s(()=>[t(y,{class:"text-h6 pb-2"},{default:s(()=>[t(d,{class:"mr-2"},{default:s(()=>[...e[9]||(e[9]=[r("mdi-code-tags",-1)])]),_:1}),e[10]||(e[10]=r(" Powered By DigiLiftPro ",-1))]),_:1}),t(h),t(L,{class:"pt-3"},{default:s(()=>[o("div",N,[o("div",T,[o("div",W,[t(d,{size:"small",class:"mr-1"},{default:s(()=>[...e[11]||(e[11]=[r("mdi-web",-1)])]),_:1}),e[12]||(e[12]=r(" Website ",-1))]),e[13]||(e[13]=o("div",{class:"info-value"},[o("a",{href:"https://digiliftpro.com",target:"_blank",style:{color:"#6366f1","text-decoration":"none"}},"https://digiliftpro.com")],-1))]),o("div",F,[o("div",M,[t(d,{size:"small",class:"mr-1"},{default:s(()=>[...e[14]||(e[14]=[r("mdi-account-circle",-1)])]),_:1}),e[15]||(e[15]=r(" Powered By ",-1))]),e[16]||(e[16]=o("div",{class:"info-value"},"DigiLiftPro",-1))]),o("div",O,[o("div",Q,[t(d,{size:"small",class:"mr-1"},{default:s(()=>[...e[17]||(e[17]=[r("mdi-tag",-1)])]),_:1}),e[18]||(e[18]=r(" Version ",-1))]),e[19]||(e[19]=o("div",{class:"info-value"},"v1.0",-1))])])]),_:1})]),_:1})]),_:1})])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})])}const K=B(C,[["render",G],["__scopeId","data-v-2ae2bb87"]]);export{K as default};
