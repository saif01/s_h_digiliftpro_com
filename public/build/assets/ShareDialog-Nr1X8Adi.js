import{_ as R,q as z,p as g,d as A,b as o,w as l,r as s,a as u,f as r,t as h,F as L,o as $}from"./app-CnQOnAII.js";const B={class:"text-body-2 text-medium-emphasis mb-4"},O={class:"d-flex flex-wrap gap-2"},q={__name:"ShareDialog",props:{modelValue:{type:Boolean,default:!1},title:{type:String,required:!0},url:{type:String,required:!0},shareText:{type:String,default:""}},emits:["update:modelValue"],setup(v,{emit:x}){const a=v,w=x,m=z({get:()=>a.modelValue,set:t=>w("update:modelValue",t)}),d=g(!1),p=g(""),i=()=>{m.value=!1},b=t=>{t||w("update:modelValue",!1)},_=()=>{const e=`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(a.url)}`;window.open(e,"_blank","width=600,height=400"),i()},k=()=>{const t=encodeURIComponent(a.url),e=encodeURIComponent(a.shareText||a.title),n=`https://twitter.com/intent/tweet?url=${t}&text=${e}`;window.open(n,"_blank","width=600,height=400"),i()},y=()=>{const e=`https://www.linkedin.com/sharing/share-offsite/?url=${encodeURIComponent(a.url)}`;window.open(e,"_blank","width=600,height=400"),i()},C=()=>{const t=encodeURIComponent(a.url),n=`https://wa.me/?text=${encodeURIComponent(a.shareText||a.title)}%20${t}`;window.open(n,"_blank"),i()},U=async()=>{if(navigator.clipboard&&navigator.clipboard.writeText)try{await navigator.clipboard.writeText(a.url),p.value="Link copied to clipboard!",d.value=!0,i();return}catch(t){console.warn("Clipboard API failed, trying fallback:",t)}try{const t=document.createElement("textarea");t.value=a.url,t.style.position="fixed",t.style.left="-999999px",t.style.top="-999999px",t.setAttribute("readonly",""),document.body.appendChild(t),t.select(),t.setSelectionRange(0,a.url.length);const e=document.execCommand("copy");if(document.body.removeChild(t),e)p.value="Link copied to clipboard!",d.value=!0,i();else throw new Error("execCommand failed")}catch(t){console.error("Copy failed:",t),p.value="Failed to copy link. Please copy manually: "+a.url,d.value=!0}};return(t,e)=>{const n=s("v-btn"),V=s("v-card-title"),S=s("v-divider"),c=s("v-icon"),T=s("v-card-text"),I=s("v-card"),D=s("v-dialog"),F=s("v-snackbar");return $(),A(L,null,[o(D,{modelValue:m.value,"onUpdate:modelValue":[e[0]||(e[0]=f=>m.value=f),b],"max-width":"400",transition:"dialog-bottom-transition"},{default:l(()=>[o(I,{class:"rounded-lg"},{default:l(()=>[o(V,{class:"d-flex align-center justify-space-between pa-4"},{default:l(()=>[e[2]||(e[2]=u("span",{class:"text-h6 font-weight-bold"},"Share Product",-1)),o(n,{icon:"mdi-close",variant:"text",size:"small",onClick:i})]),_:1}),o(S),o(T,{class:"pa-4"},{default:l(()=>[u("div",B,[e[3]||(e[3]=r(" Share ",-1)),u("strong",null,h(v.title),1),e[4]||(e[4]=r(" on social media ",-1))]),u("div",O,[o(n,{color:"#1877F2",variant:"flat",size:"large",class:"share-btn flex-grow-1",onClick:_},{default:l(()=>[o(c,{icon:"mdi-facebook",class:"mr-2"}),e[5]||(e[5]=r(" Facebook ",-1))]),_:1}),o(n,{color:"#1DA1F2",variant:"flat",size:"large",class:"share-btn flex-grow-1",onClick:k},{default:l(()=>[o(c,{icon:"mdi-twitter",class:"mr-2"}),e[6]||(e[6]=r(" Twitter ",-1))]),_:1}),o(n,{color:"#0077B5",variant:"flat",size:"large",class:"share-btn flex-grow-1",onClick:y},{default:l(()=>[o(c,{icon:"mdi-linkedin",class:"mr-2"}),e[7]||(e[7]=r(" LinkedIn ",-1))]),_:1}),o(n,{color:"#25D366",variant:"flat",size:"large",class:"share-btn flex-grow-1",onClick:C},{default:l(()=>[o(c,{icon:"mdi-whatsapp",class:"mr-2"}),e[8]||(e[8]=r(" WhatsApp ",-1))]),_:1}),o(n,{color:"primary",variant:"outlined",size:"large",class:"share-btn flex-grow-1",onClick:U},{default:l(()=>[o(c,{icon:"mdi-link",class:"mr-2"}),e[9]||(e[9]=r(" Copy Link ",-1))]),_:1})])]),_:1})]),_:1})]),_:1},8,["modelValue"]),o(F,{modelValue:d.value,"onUpdate:modelValue":e[1]||(e[1]=f=>d.value=f),timeout:3e3,color:"success",location:"top"},{default:l(()=>[r(h(p.value),1)]),_:1},8,["modelValue"])],64)}}},N=R(q,[["__scopeId","data-v-3d549724"]]);export{N as S};
