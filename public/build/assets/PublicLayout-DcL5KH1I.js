import{_ as T,c as _,w as a,a as s,b as i,r as l,t as m,d as v,e as L,F as C,f as d,n as S,o as c,g as p,h as B,i as F,m as O,j as W,k as H,v as Y,l as q}from"./app-3LtjiTE8.js";import{r as E}from"./uploads-CnEkgyD_.js";const j={name:"AppBar",props:{isScrolled:{type:Boolean,default:!1},siteName:{type:String,required:!0},siteTagline:{type:String,required:!0},menuItems:{type:Array,required:!0},logo:{type:String,default:null}},emits:["toggle-drawer","close-drawer"],data(){return{mobileBreakpoint:960,isMobileViewport:typeof window<"u"?window.innerWidth<960:!1}},mounted(){this.checkViewport(),window.addEventListener("resize",this.handleResize)},beforeUnmount(){window.removeEventListener("resize",this.handleResize)},methods:{handleDrawerToggle(){this.isMobileViewport&&this.$emit("toggle-drawer")},handleResize(){const t=this.isMobileViewport;this.checkViewport(),!this.isMobileViewport&&t&&this.$emit("close-drawer")},checkViewport(){typeof window<"u"&&(this.isMobileViewport=window.innerWidth<this.mobileBreakpoint)},isActiveRoute(t){const e=this.$route.path;return t==="/"?e==="/":e.startsWith(t)}}},G={class:"d-flex align-center w-100 position-relative z-index-2"},P={class:"logo-box mr-3 elevation-3"},K={class:"d-flex flex-column logo-text-container"},Q={class:"text-subtitle-1 font-weight-black text-grey-darken-4 lh-1 tracking-tight logo-text"},J={class:"text-caption font-weight-bold text-primary tracking-widest tagline-text"},Z={class:"d-none d-md-flex align-center gap-1"},X={class:"d-none d-md-flex"};function $(t,e,r,u,o,n){const h=l("v-img"),w=l("router-link"),f=l("v-spacer"),g=l("v-btn"),k=l("v-app-bar-nav-icon"),A=l("v-app-bar");return c(),_(A,{app:"",class:S(["main-app-bar px-md-12 transition-all",{"scrolled-app-bar":r.isScrolled}]),height:"64",elevation:"0"},{default:a(()=>[s("div",G,[i(w,{to:"/",class:"text-decoration-none d-flex align-center mr-8 logo-group"},{default:a(()=>[s("div",P,[i(h,{src:r.logo||"/assets/logo/default.png",alt:"Logo",cover:"",class:"logo-image rounded-logo"},null,8,["src"])]),s("div",K,[s("span",Q,m(r.siteName.toUpperCase()),1),s("span",J,m(r.siteTagline),1)])]),_:1}),i(f),s("div",Z,[(c(!0),v(C,null,L(r.menuItems,y=>(c(),_(w,{key:y.id,to:y.url,class:S(["nav-link",{"active-nav-link":n.isActiveRoute(y.url)}])},{default:a(()=>[n.isActiveRoute(y.url)?(c(),v(C,{key:0},[e[0]||(e[0]=s("span",{class:"nav-indicator-dot"},null,-1)),e[1]||(e[1]=s("span",{class:"nav-link-shimmer"},null,-1)),e[2]||(e[2]=s("span",{class:"nav-particle"},null,-1)),e[3]||(e[3]=s("span",{class:"nav-particle"},null,-1)),e[4]||(e[4]=s("span",{class:"nav-glow-line"},null,-1))],64)):p("",!0),d(" "+m(y.label),1)]),_:2},1032,["to","class"]))),128))]),i(f),s("div",X,[i(g,{color:"primary",variant:"flat",rounded:"pill",size:"default",class:"font-weight-bold px-6 text-capitalize elevation-3 hover-glow cta-btn",to:{name:"Contact"}},{default:a(()=>e[5]||(e[5]=[d(" Get a Quote ")])),_:1,__:[5]})]),i(k,{class:"d-md-none ml-2 mobile-menu-btn",onClick:n.handleDrawerToggle,"aria-label":"Toggle navigation menu"},null,8,["onClick"])]),e[6]||(e[6]=s("div",{class:"app-bar-border"},null,-1))]),_:1,__:[6]},8,["class"])}const ee=T(j,[["render",$],["__scopeId","data-v-a103535f"]]),te={name:"MobileDrawer",props:{modelValue:{type:Boolean,default:!1},siteName:{type:String,required:!0},menuItems:{type:Array,required:!0},logo:{type:String,default:null}},emits:["update:modelValue"],watch:{$route(){this.closeDrawer()}},computed:{localDrawer:{get(){return this.modelValue},set(t){this.$emit("update:modelValue",t)}}},methods:{closeDrawer(){this.$emit("update:modelValue",!1)},handleNavigate(){this.$nextTick(()=>this.closeDrawer())},isActiveRoute(t){if(!t)return!1;const e=this.$route.path||"/",r=t==="/"?"/":t.replace(/\/$/,""),u=e==="/"?"/":e.replace(/\/$/,"");return r==="/"?u==="/":!!(u===r||u.startsWith(r+"/"))}}},ne={class:"pa-6"},se={class:"d-flex align-center mb-8"},oe={class:"logo-box mr-3"},ie={class:"text-h6 font-weight-black text-grey-darken-4"},re={class:"mt-8"};function le(t,e,r,u,o,n){const h=l("v-img"),w=l("v-spacer"),f=l("v-btn"),g=l("v-list-item-title"),k=l("v-list-item"),A=l("v-list"),y=l("v-navigation-drawer");return c(),_(y,{modelValue:n.localDrawer,"onUpdate:modelValue":e[0]||(e[0]=b=>n.localDrawer=b),location:"right",temporary:"",class:S(["mobile-drawer",{"mobile-drawer--open":n.localDrawer}]),onKeydown:B(n.closeDrawer,["esc"])},{default:a(()=>[s("div",ne,[s("div",se,[s("div",oe,[i(h,{src:r.logo||"/assets/logo/default.png",alt:"Logo",cover:"",class:"logo-image rounded-logo","aspect-ratio":1},null,8,["src"])]),s("span",ie,m(r.siteName.toUpperCase()),1),i(w),i(f,{icon:"mdi-close",variant:"text",onClick:n.closeDrawer},null,8,["onClick"])]),i(A,{nav:"",class:"bg-transparent"},{default:a(()=>[(c(!0),v(C,null,L(r.menuItems,b=>(c(),_(k,{key:b.id,to:b.url,active:n.isActiveRoute(b.url),class:S(["mb-2 rounded-xl premium-nav-item",{"premium-nav-item-active":n.isActiveRoute(b.url)}]),onClick:n.handleNavigate},{default:a(()=>[n.isActiveRoute(b.url)?(c(),v(C,{key:0},[e[1]||(e[1]=s("span",{class:"active-indicator-bar"},[s("span",{class:"indicator-pulse"})],-1)),e[2]||(e[2]=s("div",{class:"active-shimmer"},null,-1)),e[3]||(e[3]=s("span",{class:"active-dot-top"},null,-1)),e[4]||(e[4]=s("span",{class:"active-dot-bottom"},null,-1))],64)):p("",!0),i(g,{class:"font-weight-bold"},{default:a(()=>[d(m(b.label),1)]),_:2},1024)]),_:2},1032,["to","active","class","onClick"]))),128))]),_:1}),s("div",re,[i(f,{block:"",color:"primary",size:"large",rounded:"lg",to:{name:"Contact"},class:"elevation-4",onClick:n.handleNavigate},{default:a(()=>e[5]||(e[5]=[d(" Get a Quote ")])),_:1,__:[5]},8,["onClick"])])])]),_:1},8,["modelValue","class","onKeydown"])}const ae=T(te,[["render",le],["__scopeId","data-v-4931e4a5"]]),de={name:"Footer",props:{siteName:{type:String,required:!0},footerDescription:{type:String,required:!0},menuItems:{type:Array,required:!0},settings:{type:Object,required:!0},logo:{type:String,default:null},newsletterDescription:{type:String,default:"Subscribe to get the latest power tips and updates."}},data(){return{newsletterEmail:"",newsletterLoading:!1,newsletterMessage:"",newsletterMessageType:"success",emailRules:[t=>!!t||"Email is required",t=>/.+@.+\..+/.test(t)||"Email must be valid"]}},methods:{hasSocialLink(t){return this.settings[`${t}_url`]&&this.settings[`${t}_url`].trim()!==""},async subscribeNewsletter(t){if(t&&t.preventDefault(),!this.newsletterEmail||!this.newsletterEmail.trim()){this.newsletterMessage="Email is required",this.newsletterMessageType="error";return}if(!/.+@.+\..+/.test(this.newsletterEmail)){this.newsletterMessage="Please enter a valid email address",this.newsletterMessageType="error";return}if(this.$refs.newsletterForm){const{valid:r}=await this.$refs.newsletterForm.validate();if(!r)return}this.newsletterLoading=!0,this.newsletterMessage="";try{const r=await this.$axios.post("/api/openapi/newsletter/subscribe",{email:this.newsletterEmail.trim()});this.newsletterMessage=r.data.message||"Thank you for subscribing!",this.newsletterMessageType="success",this.newsletterEmail="",this.$refs.newsletterForm&&this.$refs.newsletterForm.reset(),setTimeout(()=>{this.newsletterMessage=""},5e3)}catch(r){if(console.error("Error subscribing to newsletter:",r),r.response&&r.response.data)if(r.response.data.message)this.newsletterMessage=r.response.data.message;else if(r.response.data.errors){const u=r.response.data.errors,o=Object.values(u).flat();this.newsletterMessage=o.join(", ")||"Failed to subscribe. Please try again."}else this.newsletterMessage="Failed to subscribe. Please try again.";else this.newsletterMessage="An error occurred. Please try again later.";this.newsletterMessageType="error"}finally{this.newsletterLoading=!1}}}},ce={class:"d-flex align-center mb-6"},ue={class:"logo-box-light mr-3 elevation-10"},me={class:"text-h5 font-weight-black text-white tracking-tight"},pe={class:"text-body-2 text-grey-lighten-1 mb-8 lh-relaxed opacity-80"},ge={class:"d-flex gap-4"},_e={class:"list-unstyled"},he={class:"list-unstyled"},fe={class:"mb-3"},ve={class:"mb-3"},we={class:"mb-3"},be={class:"mb-3"},ye={class:"text-body-2 text-grey-lighten-1 mb-6 opacity-80"},xe={class:"d-flex flex-column flex-md-row justify-space-between align-center text-caption text-grey-darken-1"},ke={class:"mb-4 mb-md-0 d-flex flex-column flex-md-row align-center gap-2 gap-md-4"},Ae={class:"powered-by-info"},Se={class:"info-item mb-3"},Ue={class:"info-label"},Te={class:"info-item mb-3"},Me={class:"info-label"},Ie={class:"info-item mb-2"},Ce={class:"info-label"};function Ve(t,e,r,u,o,n){const h=l("v-img"),w=l("v-btn"),f=l("v-col"),g=l("router-link"),k=l("v-text-field"),A=l("v-form"),y=l("v-alert"),b=l("v-row"),M=l("v-divider"),x=l("v-icon"),V=l("v-card-title"),D=l("v-card-text"),I=l("v-card"),N=l("v-menu"),z=l("v-container"),R=l("v-footer");return c(),_(R,{class:"bg-footer text-white pt-20 pb-10 position-relative overflow-hidden"},{default:a(()=>[e[23]||(e[23]=s("div",{class:"footer-pattern"},null,-1)),e[24]||(e[24]=s("div",{class:"footer-glow"},null,-1)),i(z,{class:"position-relative z-index-2"},{default:a(()=>[i(b,null,{default:a(()=>[i(f,{cols:"12",md:"4",class:"mb-10 mb-md-0 pr-md-12"},{default:a(()=>[s("div",ce,[s("div",ue,[i(h,{src:r.logo||"/assets/logo/default.png",alt:"Logo",cover:"",class:"footer-logo-image rounded-logo"},null,8,["src"])]),s("span",me,m(r.siteName.toUpperCase()),1)]),s("p",pe,m(r.footerDescription),1),s("div",ge,[n.hasSocialLink("facebook")?(c(),_(w,{key:0,href:r.settings.facebook_url,target:"_blank",icon:"mdi-facebook",variant:"text",color:"white",class:"social-btn"},null,8,["href"])):p("",!0),n.hasSocialLink("twitter")?(c(),_(w,{key:1,href:r.settings.twitter_url,target:"_blank",icon:"mdi-twitter",variant:"text",color:"white",class:"social-btn"},null,8,["href"])):p("",!0),n.hasSocialLink("linkedin")?(c(),_(w,{key:2,href:r.settings.linkedin_url,target:"_blank",icon:"mdi-linkedin",variant:"text",color:"white",class:"social-btn"},null,8,["href"])):p("",!0),n.hasSocialLink("instagram")?(c(),_(w,{key:3,href:r.settings.instagram_url,target:"_blank",icon:"mdi-instagram",variant:"text",color:"white",class:"social-btn"},null,8,["href"])):p("",!0)])]),_:1}),i(f,{cols:"6",md:"2",class:"mb-8 mb-md-0"},{default:a(()=>[e[2]||(e[2]=s("h4",{class:"text-subtitle-1 font-weight-bold mb-6 text-white position-relative d-inline-block"},[d(" Quick Links "),s("div",{class:"heading-underline"})],-1)),s("ul",_e,[(c(!0),v(C,null,L(r.menuItems,U=>(c(),v("li",{key:U.id,class:"mb-3"},[i(g,{to:U.url,class:"footer-link text-body-2 text-grey-lighten-1"},{default:a(()=>[d(m(U.label),1)]),_:2},1032,["to"])]))),128))])]),_:1,__:[2]}),i(f,{cols:"6",md:"3",class:"mb-8 mb-md-0"},{default:a(()=>[e[7]||(e[7]=s("h4",{class:"text-subtitle-1 font-weight-bold mb-6 text-white position-relative d-inline-block"},[d(" Our Services "),s("div",{class:"heading-underline"})],-1)),s("ul",he,[s("li",fe,[i(g,{to:"/services/ups-installation",class:"footer-link text-body-2 text-grey-lighten-1"},{default:a(()=>e[3]||(e[3]=[d("UPS Installation")])),_:1,__:[3]})]),s("li",ve,[i(g,{to:"/services/battery-replacement",class:"footer-link text-body-2 text-grey-lighten-1"},{default:a(()=>e[4]||(e[4]=[d("Battery Replacement")])),_:1,__:[4]})]),s("li",we,[i(g,{to:"/services/industrial-backup",class:"footer-link text-body-2 text-grey-lighten-1"},{default:a(()=>e[5]||(e[5]=[d("Industrial Backup")])),_:1,__:[5]})]),s("li",be,[i(g,{to:"/services/support",class:"footer-link text-body-2 text-grey-lighten-1"},{default:a(()=>e[6]||(e[6]=[d("24/7 Support")])),_:1,__:[6]})])])]),_:1,__:[7]}),i(f,{cols:"12",md:"3"},{default:a(()=>[e[8]||(e[8]=s("h4",{class:"text-subtitle-1 font-weight-bold mb-6 text-white position-relative d-inline-block"},[d(" Newsletter "),s("div",{class:"heading-underline"})],-1)),s("p",ye,m(r.newsletterDescription),1),i(A,{ref:"newsletterForm",onSubmit:F(n.subscribeNewsletter,["prevent"])},{default:a(()=>[i(k,{modelValue:o.newsletterEmail,"onUpdate:modelValue":e[0]||(e[0]=U=>o.newsletterEmail=U),placeholder:"Enter your email",variant:"outlined",density:"comfortable","bg-color":"rgba(255,255,255,0.05)",color:"amber-accent-4",rules:o.emailRules,loading:o.newsletterLoading,disabled:o.newsletterLoading,class:"mb-3 footer-input rounded-lg","hide-details":"auto",onKeyup:B(n.subscribeNewsletter,["enter"])},{"append-inner":a(()=>[i(w,{icon:"mdi-send",size:"small",color:"amber-accent-4",variant:"text",class:"mr-n2",loading:o.newsletterLoading,disabled:o.newsletterLoading,onClick:n.subscribeNewsletter},null,8,["loading","disabled","onClick"])]),_:1},8,["modelValue","rules","loading","disabled","onKeyup"])]),_:1},8,["onSubmit"]),o.newsletterMessage?(c(),_(y,{key:0,type:o.newsletterMessageType,density:"compact",class:"mt-2 newsletter-alert",variant:"tonal",closable:!0,"onClick:close":e[1]||(e[1]=U=>o.newsletterMessage="")},{default:a(()=>[d(m(o.newsletterMessage),1)]),_:1},8,["type"])):p("",!0)]),_:1,__:[8]})]),_:1}),i(M,{class:"my-10 border-opacity-10"}),s("div",xe,[s("div",ke,[s("div",null," Â© "+m(new Date().getFullYear())+" "+m(r.siteName)+". All rights reserved. ",1),i(N,{"open-on-hover":"",location:"top"},{activator:a(({props:U})=>[s("span",O({class:"powered-by-text-footer"},U,{style:{cursor:"pointer"}}),[e[10]||(e[10]=d(" Powered By MCT-IT ")),i(x,{size:"x-small",class:"ml-1"},{default:a(()=>e[9]||(e[9]=[d("mdi-information-outline")])),_:1,__:[9]})],16)]),default:a(()=>[i(I,{class:"powered-by-card","min-width":"280"},{default:a(()=>[i(V,{class:"text-h6 pb-2"},{default:a(()=>[i(x,{class:"mr-2"},{default:a(()=>e[11]||(e[11]=[d("mdi-code-tags")])),_:1,__:[11]}),e[12]||(e[12]=d(" Powered By MCT-IT "))]),_:1,__:[12]}),i(M),i(D,{class:"pt-3"},{default:a(()=>[s("div",Ae,[s("div",Se,[s("div",Ue,[i(x,{size:"small",class:"mr-1"},{default:a(()=>e[13]||(e[13]=[d("mdi-account-circle")])),_:1,__:[13]}),e[14]||(e[14]=d(" Author & Credit "))]),e[15]||(e[15]=s("div",{class:"info-value"},"MCT-IT Development Team",-1))]),s("div",Te,[s("div",Me,[i(x,{size:"small",class:"mr-1"},{default:a(()=>e[16]||(e[16]=[d("mdi-cog")])),_:1,__:[16]}),e[17]||(e[17]=d(" Managed By "))]),e[18]||(e[18]=s("div",{class:"info-value"},"MCT-IT Solutions",-1))]),s("div",Ie,[s("div",Ce,[i(x,{size:"small",class:"mr-1"},{default:a(()=>e[19]||(e[19]=[d("mdi-tag")])),_:1,__:[19]}),e[20]||(e[20]=d(" Version "))]),e[21]||(e[21]=s("div",{class:"info-value"},"v1.0",-1))])])]),_:1})]),_:1})]),_:1})]),e[22]||(e[22]=s("div",{class:"d-flex gap-6"},[s("a",{href:"#",class:"footer-link-sm"},"Privacy Policy"),s("a",{href:"#",class:"footer-link-sm"},"Terms of Service"),s("a",{href:"#",class:"footer-link-sm"},"Sitemap")],-1))])]),_:1})]),_:1,__:[23,24]})}const De=T(de,[["render",Ve],["__scopeId","data-v-7bd78981"]]),Le={name:"WhatsAppFloat",data(){return{whatsappUrl:"",settings:{whatsapp_number:"",contact_phone:""},showNotification:!0}},async mounted(){await this.loadSettings(),this.updateWhatsAppUrl(),setTimeout(()=>{this.showNotification=!1},5e3)},methods:{async loadSettings(){try{const e=(await this.$axios.get("/api/openapi/settings")).data;e.whatsapp_number!==void 0&&(this.settings.whatsapp_number=e.whatsapp_number),e.contact_phone!==void 0&&(this.settings.contact_phone=e.contact_phone)}catch(t){console.error("Error loading WhatsApp settings:",t)}},updateWhatsAppUrl(){const t=this.settings.whatsapp_number||this.settings.contact_phone||"";if(!t){this.whatsappUrl="";return}const e=t.replace(/[^\d+]/g,"");this.whatsappUrl=`https://wa.me/${e}`}},watch:{"settings.whatsapp_number"(){this.updateWhatsAppUrl()},"settings.contact_phone"(){this.updateWhatsAppUrl()}}},Ee=["href"],Be={key:0,class:"notification-badge"};function We(t,e,r,u,o,n){return o.whatsappUrl?(c(),v("a",{key:0,href:o.whatsappUrl,target:"_blank",rel:"noopener noreferrer",class:"whatsapp-float-container","aria-label":"Contact us on WhatsApp"},[e[1]||(e[1]=W('<div class="whatsapp-float" data-v-d8b6bddb><div class="btn-background" data-v-d8b6bddb></div><div class="btn-content" data-v-d8b6bddb><svg class="whatsapp-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-d8b6bddb><path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413Z" fill="currentColor" data-v-d8b6bddb></path></svg></div><div class="ripple-effect" data-v-d8b6bddb></div></div><div class="pulse-ring" data-v-d8b6bddb></div>',2)),o.showNotification?(c(),v("div",Be,e[0]||(e[0]=[s("span",null,"1",-1)]))):p("",!0)],8,Ee)):p("",!0)}const Ne=T(Le,[["render",We],["__scopeId","data-v-d8b6bddb"]]),ze={name:"GoToTopButton",data(){return{showButton:!1}},mounted(){window.addEventListener("scroll",this.handleScroll),this.handleScroll()},beforeUnmount(){window.removeEventListener("scroll",this.handleScroll)},methods:{handleScroll(){this.showButton=window.scrollY>300},scrollToTop(){window.scrollTo({top:0,behavior:"smooth"})}}};function Re(t,e,r,u,o,n){return H((c(),v("div",{class:S(["go-to-top-container",{show:o.showButton}])},[s("button",{onClick:e[0]||(e[0]=(...h)=>n.scrollToTop&&n.scrollToTop(...h)),class:"go-to-top-btn","aria-label":"Scroll to top"},e[1]||(e[1]=[W('<div class="btn-background" data-v-aae4faee></div><div class="btn-content" data-v-aae4faee><svg class="arrow-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-aae4faee><path d="M12 19V5M12 5L5 12M12 5L19 12" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round" data-v-aae4faee></path></svg></div><div class="ripple-effect" data-v-aae4faee></div>',3)])),e[2]||(e[2]=s("div",{class:"pulse-ring"},null,-1))],2)),[[Y,o.showButton]])}const Fe=T(ze,[["render",Re],["__scopeId","data-v-aae4faee"]]),Oe={name:"AnnouncementsBanner",data(){return{announcements:[],currentAnnouncementIndex:0,dialogOpen:!1,dontShowAgain:!1,dismissedIds:[],loading:!1,windowWidth:typeof window<"u"?window.innerWidth:1200,windowHeight:typeof window<"u"?window.innerHeight:800}},computed:{isMobile(){return this.windowWidth<600},currentAnnouncement(){return this.announcements.length>0&&this.currentAnnouncementIndex<this.announcements.length?this.announcements[this.currentAnnouncementIndex]:null},resolvedImageUrl(){return!this.currentAnnouncement||!this.currentAnnouncement.image?"/assets/img/default.jpg":this.getImageUrl(this.currentAnnouncement.image)||"/assets/img/default.jpg"},resolvedVideoUrl(){if(!this.currentAnnouncement||!this.currentAnnouncement.video)return null;const t=this.getVideoUrl(this.currentAnnouncement.video);return this.isYouTubeUrl(t)?this.getYouTubeEmbedUrl(t)?t:null:t},youtubeEmbedUrl(){return!this.resolvedVideoUrl||!this.isYouTubeUrl(this.resolvedVideoUrl)?null:this.getYouTubeEmbedUrl(this.resolvedVideoUrl)},dialogMaxWidth(){return this.windowWidth<600?"95vw":this.windowWidth<960?"85vw":this.resolvedImageUrl||this.resolvedVideoUrl?"90vw":"80vw"},imageMaxHeight(){return Math.min(500,this.windowHeight*.5)}},async mounted(){await this.loadAnnouncements(),this.loadDismissedAnnouncements(),this.updateWindowSize(),window.addEventListener("resize",this.updateWindowSize),this.announcements.length>0&&setTimeout(()=>{this.dialogOpen=!0},500)},beforeUnmount(){typeof window<"u"&&window.removeEventListener("resize",this.updateWindowSize)},methods:{async loadAnnouncements(){try{this.loading=!0;const t=await this.$axios.get("/api/openapi/announcements",{params:{per_page:10}}),e=this.getDismissedIds(),r=Array.isArray(t.data)?t.data:t.data.data||[];this.announcements=r.filter(u=>!e.includes(u.id)).map(u=>((u.image===""||u.image===null)&&(u.image=null),(u.video===""||u.video===null)&&(u.video=null),u)).sort((u,o)=>(u.priority||100)-(o.priority||100))}catch(t){console.error("Error loading announcements:",t)}finally{this.loading=!1}},getDismissedIds(){const t=localStorage.getItem("dismissed_announcements");return t?JSON.parse(t):[]},loadDismissedAnnouncements(){this.dismissedIds=this.getDismissedIds()},isDismissed(t){return this.dismissedIds.includes(t)},closeDialog(){this.currentAnnouncement&&(this.dontShowAgain&&this.dismissAnnouncement(this.currentAnnouncement.id),this.dialogOpen=!1)},nextAnnouncement(){this.currentAnnouncement&&(this.dontShowAgain&&this.dismissAnnouncement(this.currentAnnouncement.id),this.currentAnnouncementIndex<this.announcements.length-1?(this.currentAnnouncementIndex++,this.dontShowAgain=!1):this.dialogOpen=!1)},dismissAnnouncement(t){this.dismissedIds.includes(t)||(this.dismissedIds.push(t),localStorage.setItem("dismissed_announcements",JSON.stringify(this.dismissedIds)))},getAlertColor(t){return{urgent_alerts:"error",offers_promotions:"success",events:"info",holidays:"warning",company_news:"primary"}[t]||"primary"},getAnnouncementIcon(t){return{urgent_alerts:"mdi-alert-circle",offers_promotions:"mdi-tag",events:"mdi-calendar-star",holidays:"mdi-party-popper",company_news:"mdi-bullhorn"}[t]||"mdi-information"},getAnnouncementTypeLabel(t){return{urgent_alerts:"Urgent Alert",offers_promotions:"Special Offer",events:"Event",holidays:"Holiday",company_news:"Company News"}[t]||t},getImageUrl(t){return!t||t===""||t===null?null:t.startsWith("http://")||t.startsWith("https://")||t.startsWith("//")?t:E(t)},getVideoUrl(t){return!t||t===""||t===null?null:t.startsWith("http://")||t.startsWith("https://")||t.startsWith("//")?t:E(t)},isYouTubeUrl(t){return t?/^(https?:\/\/)?(www\.)?(youtube\.com|youtu\.be)/i.test(t):!1},getYouTubeEmbedUrl(t){if(!t)return"";let e="";try{const r=t.match(/(?:youtu\.be\/)([^?&#]+)/);if(r)e=r[1];else{const u=t.match(/(?:youtube\.com\/(?:watch\?v=|embed\/|v\/))([^?&#]+)/);if(u)e=u[1];else try{const o=new URL(t);if(e=o.searchParams.get("v"),!e&&o.pathname){const n=o.pathname.split("/").filter(h=>h);n.length>0&&(e=n[n.length-1])}}catch{const n=t.match(/[?&]v=([^?&#]+)/);n&&(e=n[1])}}if(e&&(e=e.split("?")[0].split("&")[0].split("#")[0].trim()),e&&e.length>=11)return`https://www.youtube.com/embed/${e}`;if(t.includes("youtube.com/embed/"))return t}catch(r){console.error("Error processing YouTube URL:",r)}return""},handleImageError(t){t.target&&t.target.parentElement&&(t.target.parentElement.style.display="none")},updateWindowSize(){typeof window<"u"&&(this.windowWidth=window.innerWidth,this.windowHeight=window.innerHeight)}}},He={class:"text-white font-weight-bold announcement-title-text"},Ye={key:0,class:"mb-4 announcement-media"},qe={key:1,class:"mb-4 announcement-media"},je={key:0,class:"youtube-embed-wrapper"},Ge=["src"],Pe=["src"],Ke=["src"],Qe={key:2,class:"text-body-1 mb-4 announcement-description"},Je=["innerHTML"];function Ze(t,e,r,u,o,n){const h=l("v-icon"),w=l("v-spacer"),f=l("v-chip"),g=l("v-btn"),k=l("v-card-title"),A=l("v-img"),y=l("v-card-text"),b=l("v-divider"),M=l("v-checkbox"),x=l("v-card-actions"),V=l("v-card"),D=l("v-dialog");return c(),_(D,{modelValue:o.dialogOpen,"onUpdate:modelValue":e[1]||(e[1]=I=>o.dialogOpen=I),"max-width":n.dialogMaxWidth,persistent:"",scrollable:"",class:S(["announcement-dialog",{"announcement-dialog--fullscreen":n.isMobile}]),fullscreen:n.isMobile},{default:a(()=>[n.currentAnnouncement?(c(),_(V,{key:0,class:S(["announcement-dialog-card",{"announcement-dialog-card--mobile":n.isMobile}])},{default:a(()=>[i(k,{class:S(["d-flex align-center pa-4 announcement-title",`bg-${n.getAlertColor(n.currentAnnouncement.type)}`])},{default:a(()=>[i(h,{class:"mr-2",color:"white"},{default:a(()=>[d(m(n.getAnnouncementIcon(n.currentAnnouncement.type)),1)]),_:1}),s("span",He,m(n.currentAnnouncement.title),1),i(w),o.announcements.length>1?(c(),_(f,{key:0,size:"small",variant:"flat",color:"white",class:"mr-2"},{default:a(()=>[d(m(o.currentAnnouncementIndex+1)+" / "+m(o.announcements.length),1)]),_:1})):p("",!0),i(g,{icon:"mdi-close",variant:"text",color:"white",size:"small",onClick:n.closeDialog},null,8,["onClick"])]),_:1},8,["class"]),i(y,{class:"pa-4 pa-md-6 announcement-content"},{default:a(()=>[n.resolvedImageUrl?(c(),v("div",Ye,[i(A,{src:n.resolvedImageUrl,alt:n.currentAnnouncement.title,"max-height":n.imageMaxHeight,contain:"",class:"rounded-lg announcement-image",onError:n.handleImageError},null,8,["src","alt","max-height","onError"])])):p("",!0),n.resolvedVideoUrl?(c(),v("div",qe,[n.isYouTubeUrl(n.resolvedVideoUrl)&&n.youtubeEmbedUrl?(c(),v("div",je,[s("iframe",{src:n.youtubeEmbedUrl,frameborder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowfullscreen:"",class:"youtube-iframe rounded-lg"},null,8,Ge)])):n.isYouTubeUrl(n.resolvedVideoUrl)?p("",!0):(c(),v("video",{key:1,controls:"",class:"w-100 rounded-lg announcement-video",style:q({maxHeight:n.imageMaxHeight+"px"})},[s("source",{src:n.resolvedVideoUrl,type:"video/mp4"},null,8,Pe),s("source",{src:n.resolvedVideoUrl,type:"video/webm"},null,8,Ke),e[2]||(e[2]=d(" Your browser does not support the video tag. "))],4))])):p("",!0),n.currentAnnouncement.short_description?(c(),v("div",Qe,m(n.currentAnnouncement.short_description),1)):p("",!0),n.currentAnnouncement.content?(c(),v("div",{key:3,class:"text-body-2 mb-4 announcement-content-html",innerHTML:n.currentAnnouncement.content},null,8,Je)):p("",!0),i(f,{size:"small",color:n.getAlertColor(n.currentAnnouncement.type),class:"mb-2"},{default:a(()=>[d(m(n.getAnnouncementTypeLabel(n.currentAnnouncement.type)),1)]),_:1},8,["color"])]),_:1}),i(b),i(x,{class:S(["pa-4 announcement-actions",{"announcement-actions--stacked":n.isMobile}])},{default:a(()=>[i(M,{modelValue:o.dontShowAgain,"onUpdate:modelValue":e[0]||(e[0]=I=>o.dontShowAgain=I),label:"Don't show again",density:"compact","hide-details":"",class:"mr-auto announcement-checkbox"},null,8,["modelValue"]),o.announcements.length>1&&o.currentAnnouncementIndex<o.announcements.length-1?(c(),_(g,{key:0,variant:"text",class:"announcement-action-btn",onClick:n.nextAnnouncement},{default:a(()=>[e[4]||(e[4]=d(" Next ")),i(h,{right:""},{default:a(()=>e[3]||(e[3]=[d("mdi-arrow-right")])),_:1,__:[3]})]),_:1,__:[4]},8,["onClick"])):p("",!0),i(g,{variant:"text",class:"announcement-action-btn",onClick:n.closeDialog},{default:a(()=>[d(m(o.announcements.length>1&&o.currentAnnouncementIndex<o.announcements.length-1?"Skip All":"Close"),1)]),_:1},8,["onClick"]),n.currentAnnouncement.external_link?(c(),_(g,{key:1,href:n.currentAnnouncement.external_link,target:n.currentAnnouncement.open_in_new_tab?"_blank":"_self",color:"primary",variant:"flat",class:"announcement-action-btn",onClick:n.closeDialog},{default:a(()=>[e[6]||(e[6]=d(" Learn More ")),i(h,{right:""},{default:a(()=>e[5]||(e[5]=[d("mdi-arrow-right")])),_:1,__:[5]})]),_:1,__:[6]},8,["href","target","onClick"])):p("",!0)]),_:1},8,["class"])]),_:1},8,["class"])):p("",!0)]),_:1},8,["modelValue","max-width","class","fullscreen"])}const Xe=T(Oe,[["render",Ze],["__scopeId","data-v-f7650892"]]),$e={name:"PublicLayout",components:{AppBar:ee,MobileDrawer:ae,Footer:De,WhatsAppFloat:Ne,GoToTopButton:Fe,AnnouncementsBanner:Xe},data(){return{drawer:!1,isScrolled:!1,siteName:"Micro Control Technology",siteTagline:"TECHNOLOGY",footerDescription:"Leading provider of technical power support solutions. We ensure your business stays powered with reliable UPS systems, backup generators, and professional maintenance.",newsletterDescription:"Subscribe to get the latest power tips and updates.",brandingLogo:null,settings:{site_name:"",site_tagline:"",contact_email:"",contact_phone:"",address:"",facebook_url:"",twitter_url:"",linkedin_url:"",instagram_url:"",whatsapp_number:""},menuItems:[{id:1,label:"Home",url:"/"},{id:2,label:"Services",url:"/services"},{id:3,label:"Products",url:"/products"},{id:4,label:"Blog",url:"/blog"},{id:5,label:"Careers",url:"/careers"},{id:6,label:"About Us",url:"/about"},{id:7,label:"Contact",url:"/contact"}]}},async mounted(){await this.loadSettings(),window.addEventListener("scroll",this.handleScroll)},beforeUnmount(){window.removeEventListener("scroll",this.handleScroll)},methods:{async loadSettings(){try{const e=(await this.$axios.get("/api/openapi/settings")).data;Object.keys(this.settings).forEach(r=>{e[r]!==void 0&&e[r]!==null&&(this.settings[r]=e[r])}),e.site_name&&(this.siteName=e.site_name),e.site_tagline&&(this.siteTagline=e.site_tagline),e.footer_description?this.footerDescription=e.footer_description:e.about_description&&(this.footerDescription=e.about_description),e.newsletter_description&&(this.newsletterDescription=e.newsletter_description)}catch(t){console.error("Error loading settings:",t)}await this.loadBrandingSettings()},async loadBrandingSettings(){try{const t=await this.$axios.get("/api/openapi/settings?group=branding");t.data&&t.data.logo&&(this.brandingLogo=t.data.logo)}catch(t){console.error("Error loading branding settings:",t)}},handleScroll(){this.isScrolled=window.scrollY>20}}};function et(t,e,r,u,o,n){const h=l("AppBar"),w=l("MobileDrawer"),f=l("AnnouncementsBanner"),g=l("router-view"),k=l("v-main"),A=l("Footer"),y=l("WhatsAppFloat"),b=l("GoToTopButton"),M=l("v-app");return c(),_(M,null,{default:a(()=>[i(h,{"is-scrolled":o.isScrolled,"site-name":o.siteName,"site-tagline":o.siteTagline,"menu-items":o.menuItems,logo:o.brandingLogo,onToggleDrawer:e[0]||(e[0]=x=>o.drawer=!o.drawer),onCloseDrawer:e[1]||(e[1]=x=>o.drawer=!1)},null,8,["is-scrolled","site-name","site-tagline","menu-items","logo"]),i(w,{modelValue:o.drawer,"onUpdate:modelValue":e[2]||(e[2]=x=>o.drawer=x),"site-name":o.siteName,"menu-items":o.menuItems,logo:o.brandingLogo},null,8,["modelValue","site-name","menu-items","logo"]),i(k,{class:"bg-grey-lighten-5"},{default:a(()=>[i(f),i(g)]),_:1}),i(A,{"site-name":o.siteName,"footer-description":o.footerDescription,"menu-items":o.menuItems,settings:o.settings,logo:o.brandingLogo,"newsletter-description":o.newsletterDescription},null,8,["site-name","footer-description","menu-items","settings","logo","newsletter-description"]),i(y),i(b)]),_:1})}const st=T($e,[["render",et],["__scopeId","data-v-b5f46c57"]]);export{st as default};
