import{p as U,q as K,_ as _e,s as oe,u as Pe,x as Be,r as g,d as r,o as s,b as t,w as o,a as e,c as O,g as P,f as w,t as y,y as f,z as Ye,F as z,e as F,n as pe,m as be,k as Ze,v as Je,A as ve,j as Xe,B as et}from"./app-CnQOnAII.js";import{f as Re}from"./formatters-DOdYL610.js";import{P as tt}from"./ProductCard-eGnXGLIQ.js";import"./ShareDialog-Nr1X8Adi.js";import"./uploads-CnEkgyD_.js";function st(){const c=U([]),b=U(!1),x=U(null),N=async()=>{b.value=!0,x.value=null;try{const u=await window.axios.get("/api/openapi/products");return c.value=Array.isArray(u.data)?u.data:[],c.value}catch(u){return console.error("Error loading products:",u),x.value=u.message||"Failed to load products",c.value=S(),c.value}finally{b.value=!1}},H=u=>c.value.find(C=>C.slug===u)||null,j=u=>u!=null&&u.thumbnail?u.thumbnail:u!=null&&u.images&&u.images.length>0?u.images[0]:"https://via.placeholder.com/400x300?text=Product",V=u=>u!=null&&u.categories&&u.categories.length>0?u.categories[0].name:"Uncategorized",T=u=>Re(u,"Contact for Price"),L=u=>{const C=[];return u!=null&&u.specifications&&(u.specifications.capacity&&C.push({label:"Capacity",value:u.specifications.capacity}),u.specifications.input&&C.push({label:"Input",value:u.specifications.input}),u.specifications.type&&C.push({label:"Type",value:u.specifications.type})),C.slice(0,3)},S=()=>Array.from({length:12}).map((u,C)=>({id:C+1,title:`Industrial Power Unit ${C+100}`,slug:`product-${C+1}`,sku:`MCT-${String(C+1).padStart(4,"0")}`,short_description:"High-performance power solution designed for reliability and efficiency.",price:(Math.random()*1e3+200).toFixed(2),featured:C%3===0,rating:(4+Math.random()).toFixed(1),categories:[{id:C%2===0?"ups":"batteries",name:C%2===0?"UPS Systems":"Batteries"}],specifications:{capacity:`${500+C*100}VA`,input:"230V AC",type:"Online Double Conversion"},created_at:new Date(Date.now()-C*864e5).toISOString()}));return{products:c,loading:b,error:x,fetchProducts:N,getProductBySlug:H,getProductImage:j,getCategoryName:V,formatPrice:T,getQuickSpecs:L}}function at(){const c=U([]),b=U(!1),x=U(null),N=[{id:"all",name:"All Products",icon:"mdi-view-grid"},{id:"ups",name:"UPS Systems",icon:"mdi-power"},{id:"batteries",name:"Batteries",icon:"mdi-battery"},{id:"inverters",name:"Inverters",icon:"mdi-flash"},{id:"solar",name:"Solar",icon:"mdi-solar-power"},{id:"accessories",name:"Accessories",icon:"mdi-package-variant"}],H={ups:"mdi-power",batteries:"mdi-battery",inverters:"mdi-flash",solar:"mdi-solar-power",accessories:"mdi-package-variant",power:"mdi-lightning-bolt",energy:"mdi-flash-circle"},j=S=>{const u=(S==null?void 0:S.toLowerCase())||"";return H[u]||"mdi-package-variant"},V=async()=>{b.value=!0,x.value=null;try{const S=await window.axios.get("/api/openapi/categories?type=product"),u=Array.isArray(S.data)?S.data:S.data.data||S.data.categories||[];return Array.isArray(u)&&u.length>0?c.value=[{id:"all",name:"All Products",icon:"mdi-view-grid"},...u.map(C=>({id:C.id,name:C.name,slug:C.slug,icon:j(C.slug||C.name)}))]:c.value=N,c.value}catch(S){return console.error("Error loading categories:",S),x.value=S.message||"Failed to load categories",c.value=N,c.value}finally{b.value=!1}},T=S=>c.value.find(u=>u.id===S)||null;return{categories:c,loading:b,error:x,fetchCategories:V,getCategoryById:T,getCategoryNameById:S=>{const u=T(S);return u?u.name:"Unknown"},getCategoryIcon:j}}function lt(c){const b=U("all"),x=U(""),N=U("order"),H=[{label:"Default Order",value:"order"},{label:"Newest First",value:"newest"},{label:"Price: Low to High",value:"price_asc"},{label:"Price: High to Low",value:"price_desc"},{label:"Name: A to Z",value:"name_asc"},{label:"Name: Z to A",value:"name_desc"},{label:"Featured First",value:"featured"}],j=K(()=>{const v=H.find(R=>R.value===N.value);return v?v.label:"Default Order"}),V=v=>b.value==="all"?v:v.filter(R=>{var I;return(((I=R.categories)==null?void 0:I.map(p=>p.id))||[]).includes(b.value)}),T=v=>{if(!x.value)return v;const R=x.value.toLowerCase().trim();return v.filter(M=>{var I,p,a,_;return((I=M.title)==null?void 0:I.toLowerCase().includes(R))||((p=M.short_description)==null?void 0:p.toLowerCase().includes(R))||((a=M.sku)==null?void 0:a.toLowerCase().includes(R))||((_=M.description)==null?void 0:_.toLowerCase().includes(R))})},L=v=>{const R=[...v];return R.sort((M,I)=>{let p=0;switch(N.value){case"price_asc":p=(parseFloat(M.price)||0)-(parseFloat(I.price)||0);break;case"price_desc":p=(parseFloat(I.price)||0)-(parseFloat(M.price)||0);break;case"name_asc":p=(M.title||"").localeCompare(I.title||"");break;case"name_desc":p=(I.title||"").localeCompare(M.title||"");break;case"featured":if(M.featured&&!I.featured)return-1;if(!M.featured&&I.featured)return 1;p=0;break;case"newest":p=new Date(I.created_at||0)-new Date(M.created_at||0);break;case"order":default:const a=parseInt(M.order)||0,_=parseInt(I.order)||0;p=a-_;break}if(p===0&&N.value!=="order"){const a=parseInt(M.order)||0,_=parseInt(I.order)||0;return a-_}return p}),R},S=K(()=>{let v=c.value||[];return v=V(v),v=T(v),v=L(v),v}),u=K(()=>b.value!=="all"||x.value!==""||N.value!=="order"),C=K(()=>{let v=0;return b.value!=="all"&&v++,x.value!==""&&v++,N.value!=="order"&&v++,v});return{activeCategory:b,searchQuery:x,sortBy:N,sortOptions:H,filteredProducts:S,sortByLabel:j,hasActiveFilters:u,activeFiltersCount:C,setActiveCategory:v=>{b.value=v},setSortBy:v=>{N.value=v},setSearchQuery:v=>{x.value=v},clearFilters:()=>{b.value="all",x.value="",N.value="order"}}}function nt(c=3){const b=U([]),x=U(!1),N=$=>b.value.some(v=>v.id===$.id),H=K(()=>b.value.length<c),j=$=>!$||N($)||!H.value?!1:(b.value.push($),!0),V=$=>{const v=b.value.findIndex(R=>R.id===$.id);return v>-1?(b.value.splice(v,1),!0):!1};return{comparisonProducts:b,showComparison:x,maxProducts:c,canAddMore:H,isInComparison:N,addToComparison:j,removeFromComparison:V,toggleComparison:$=>{if(N($))V($);else if(!j($))return!1;return!0},clearComparison:()=>{b.value=[]},openComparison:()=>{x.value=!0},closeComparison:()=>{x.value=!1},getComparisonSpecs:()=>{const $=new Set;return b.value.forEach(v=>{v.specifications&&Object.keys(v.specifications).forEach(R=>$.add(R))}),Array.from($).map(v=>({key:v,label:v.charAt(0).toUpperCase()+v.slice(1).replace(/_/g," ")}))},getSpecValue:($,v)=>$.specifications&&$.specifications[v]?$.specifications[v]:"N/A",getKeyFeatures:$=>$.key_features&&Array.isArray($.key_features)?$.key_features:["High Performance","Reliable Design","Energy Efficient"],getRecommendedUse:$=>{var R,M,I;if($.recommended_use)return $.recommended_use;const v=((I=(M=(R=$.categories)==null?void 0:R[0])==null?void 0:M.name)==null?void 0:I.toLowerCase())||"";return v.includes("ups")?"Data Centers, Servers":v.includes("battery")?"Backup Power Systems":v.includes("solar")?"Renewable Energy Systems":"General Purpose"}}}function Ve(c,b=300){let x=null;return function(...N){clearTimeout(x),x=setTimeout(()=>{c.apply(this,N)},b)}}const ot={class:"filter-shell mb-4 mb-md-5"},it={class:"filter-top"},rt={class:"filter-meta"},ct={class:"title-row"},dt={class:"icon-pill"},ut={class:"top-actions"},mt={class:"filter-grid"},vt={class:"panel search-panel"},pt={class:"panel sort-panel"},ft={class:"sort-actions"},yt={class:"d-none d-sm-inline"},gt={key:1,class:"mr-2",style:{width:"20px"}},bt={class:"advanced-filters-block"},ht={key:0,class:"filter-section-header"},_t={key:1,class:"mobile-filters-header"},kt={class:"d-flex align-center w-100"},wt={class:"price-inputs"},xt={class:"d-flex align-center w-100"},Ct={class:"d-flex align-center w-100"},$t={class:"d-flex align-center w-100"},At={class:"d-flex align-center w-100"},St={class:"features-grid"},zt={class:"d-flex align-center"},Ft={class:"text-body-2"},Vt={class:"d-flex align-center w-100"},Ut={class:"filters-content"},Pt={class:"filter-item"},Bt={class:"filter-item-header"},Rt={class:"price-inputs"},Nt={class:"filter-item"},Ot={class:"filter-item-header"},It={class:"filter-item"},Mt={class:"filter-item-header"},Dt={class:"filter-item"},jt={class:"filter-item-header"},Et={class:"filter-item"},Lt={class:"filter-item-header"},Tt={class:"features-grid"},Qt={class:"d-flex align-center"},qt={class:"text-body-2"},Kt={class:"filter-item"},Wt={class:"filter-item-header"},Ht={__name:"FilterBar",props:{searchQuery:{type:String,default:""},sortBy:{type:String,default:"newest"},sortOptions:{type:Array,default:()=>[]},sortByLabel:{type:String,default:"Newest First"},hasActiveFilters:{type:Boolean,default:!1},activeFiltersCount:{type:Number,default:0},comparisonCount:{type:Number,default:0},resultsCount:{type:Number,default:0},priceRange:{type:Array,default:()=>[0,1e5]},availability:{type:Array,default:()=>[]},brands:{type:Array,default:()=>[]},selectedBrands:{type:Array,default:()=>[]},minRating:{type:Number,default:0},features:{type:Array,default:()=>[]},selectedFeatures:{type:Array,default:()=>[]},discount:{type:String,default:null},mobile:{type:Boolean,default:!1}},emits:["update:searchQuery","update:sortBy","update:priceRange","update:availability","update:brands","update:minRating","update:features","update:discount","clear-filters","open-comparison"],setup(c,{emit:b}){const x=c,N=b,H=U(!1),j=U(!0),V=U([...x.priceRange]),T=U([...x.availability]),L=U([...x.selectedBrands]),S=U(x.minRating),u=U([...x.selectedFeatures]),C=U(x.discount),J=[{value:"in_stock",label:"In Stock",icon:"mdi-check-circle"},{value:"out_of_stock",label:"Out of Stock",icon:"mdi-close-circle"},{value:"pre_order",label:"Pre-Order",icon:"mdi-clock-outline"},{value:"coming_soon",label:"Coming Soon",icon:"mdi-new-box"}],X=[{value:"any",label:"Any Discount"},{value:"10",label:"10% or more"},{value:"25",label:"25% or more"},{value:"50",label:"50% or more"}];oe(()=>x.priceRange,p=>{V.value=[...p]},{deep:!0}),oe(()=>x.availability,p=>{T.value=[...p]},{deep:!0}),oe(()=>x.selectedBrands,p=>{L.value=[...p]},{deep:!0}),oe(()=>x.minRating,p=>{S.value=p}),oe(()=>x.selectedFeatures,p=>{u.value=[...p]},{deep:!0}),oe(()=>x.discount,p=>{C.value=p});const te=()=>{H.value=window.scrollY>200},$=Ve(p=>{N("update:searchQuery",p||"")},300),v=p=>p==null?"0":Number(p).toLocaleString("en-US"),R=Ve(()=>{N("update:priceRange",V.value)},500),M=()=>{j.value=!j.value},I=(p,a)=>{if(a===void 0){const _=u.value.indexOf(p);_>-1?u.value.splice(_,1):u.value.push(p)}else if(a)u.value.includes(p)||u.value.push(p);else{const _=u.value.indexOf(p);_>-1&&u.value.splice(_,1)}N("update:features",[...u.value])};return Pe(()=>{window.addEventListener("scroll",te)}),Be(()=>{window.removeEventListener("scroll",te)}),(p,a)=>{const _=g("v-icon"),Q=g("v-chip"),ie=g("v-btn"),ne=g("v-text-field"),ue=g("v-list-item-title"),n=g("v-list-item"),i=g("v-list"),h=g("v-menu"),A=g("v-spacer"),D=g("v-expansion-panel-title"),Y=g("v-range-slider"),W=g("v-expansion-panel-text"),G=g("v-expansion-panel"),se=g("v-chip-group"),Z=g("v-select"),ee=g("v-checkbox"),ae=g("v-expansion-panels"),le=g("v-expand-transition"),d=g("v-card");return s(),r("div",ot,[t(d,{class:pe(["filter-card rounded-xl elevation-2",{"sticky-filter":H.value}])},{default:o(()=>[e("div",it,[e("div",rt,[a[26]||(a[26]=e("span",{class:"eyebrow"},"Product filters",-1)),e("div",ct,[e("div",dt,[t(_,{icon:"mdi-filter-variant",color:"primary",size:"18"})]),a[25]||(a[25]=e("div",null,[e("div",{class:"title-text"},"Filter & Search")],-1))])]),e("div",ut,[c.resultsCount?(s(),O(Q,{key:0,size:"small",color:"primary",variant:"tonal",class:"metric-chip"},{default:o(()=>[w(y(c.resultsCount)+" results ",1)]),_:1})):P("",!0),c.hasActiveFilters?(s(),O(Q,{key:1,size:"small",color:"primary",variant:"flat",class:"metric-chip"},{default:o(()=>[w(y(c.activeFiltersCount)+" active ",1)]),_:1})):P("",!0),t(ie,{variant:"text",color:"grey-darken-1",size:"small","prepend-icon":"mdi-close-circle",class:"text-capitalize clear-btn",disabled:!c.hasActiveFilters,onClick:a[0]||(a[0]=l=>p.$emit("clear-filters"))},{default:o(()=>[...a[27]||(a[27]=[w(" Clear filters ",-1)])]),_:1},8,["disabled"])])]),e("div",mt,[e("div",vt,[a[28]||(a[28]=e("div",{class:"panel-header"},[e("span",{class:"panel-title"},"Search"),e("span",{class:"panel-hint"},"Names, tags or SKU")],-1)),t(ne,{"model-value":c.searchQuery,density:"compact",variant:"solo-filled",placeholder:"Search products...","prepend-inner-icon":"mdi-magnify","hide-details":"auto","bg-color":"white",class:"search-field rounded-lg",clearable:"","onUpdate:modelValue":f($),"onClick:clear":a[1]||(a[1]=l=>p.$emit("update:searchQuery",""))},Ye({_:2},[c.searchQuery?{name:"append-inner",fn:o(()=>[t(Q,{size:"x-small",color:"primary",variant:"flat",class:"results-chip mr-1"},{default:o(()=>[w(y(c.resultsCount),1)]),_:1})]),key:"0"}:void 0]),1032,["model-value","onUpdate:modelValue"])]),e("div",pt,[a[31]||(a[31]=e("div",{class:"panel-header"},[e("span",{class:"panel-title"},"Sort & compare"),e("span",{class:"panel-hint"},"Tune order & shortlist")],-1)),e("div",ft,[t(h,{location:"bottom end","close-on-content-click":!0},{activator:o(({props:l})=>[t(ie,be(l,{variant:"outlined",color:"grey-darken-2",class:"sort-btn bg-white text-grey-darken-2 font-weight-medium","append-icon":"mdi-chevron-down",size:"small",density:"comfortable"}),{default:o(()=>[t(_,{icon:"mdi-sort",size:"16",class:"mr-1 d-none d-sm-inline"}),e("span",yt,y(c.sortByLabel),1),a[29]||(a[29]=e("span",{class:"d-sm-none"},"Sort",-1))]),_:1},16)]),default:o(()=>[t(i,{class:"sort-menu-list",density:"compact"},{default:o(()=>[(s(!0),r(z,null,F(c.sortOptions,l=>(s(),O(n,{key:l.value,class:pe([{"sort-option-active":c.sortBy===l.value},"sort-option"]),onClick:E=>p.$emit("update:sortBy",l.value)},{prepend:o(()=>[c.sortBy===l.value?(s(),O(_,{key:0,icon:"mdi-check",color:"primary",size:"small",class:"mr-2"})):(s(),r("div",gt))]),default:o(()=>[t(ue,{class:"font-weight-medium text-body-2"},{default:o(()=>[w(y(l.label),1)]),_:2},1024)]),_:2},1032,["class","onClick"]))),128))]),_:1})]),_:1}),c.comparisonCount>0?(s(),O(ie,{key:0,color:"primary",variant:"flat","prepend-icon":"mdi-scale-balance",class:"comparison-btn text-white font-weight-bold",size:"small",density:"comfortable",onClick:a[2]||(a[2]=l=>p.$emit("open-comparison"))},{default:o(()=>[a[30]||(a[30]=e("span",{class:"d-none d-sm-inline mr-1"},"Compare",-1)),t(Q,{size:"x-small",color:"white",variant:"flat",class:"comparison-badge ml-1"},{default:o(()=>[w(y(c.comparisonCount),1)]),_:1})]),_:1})):P("",!0)])])]),e("div",bt,[c.mobile?P("",!0):(s(),r("div",ht,[a[32]||(a[32]=e("span",{class:"eyebrow"},"Advanced Filters",-1)),t(ie,{variant:"text",size:"x-small",color:"primary",class:"text-capitalize",onClick:M},{default:o(()=>[w(y(j.value?"Hide":"Show")+" ",1),t(_,{icon:j.value?"mdi-chevron-up":"mdi-chevron-down",size:"small",class:"ml-1"},null,8,["icon"])]),_:1})])),c.mobile?(s(),r("div",_t,[t(_,{icon:"mdi-tune",size:"20",color:"primary",class:"mr-2"}),a[33]||(a[33]=e("span",{class:"eyebrow"},"Filter Options",-1))])):P("",!0),c.mobile?(s(),O(ae,{key:2,variant:"accordion",class:"mobile-expansion-panels"},{default:o(()=>[t(G,{elevation:"0","bg-color":"transparent"},{default:o(()=>[t(D,{class:"filter-panel-title"},{default:o(()=>[e("div",kt,[t(_,{icon:"mdi-currency-usd",size:"18",color:"primary",class:"mr-2"}),a[35]||(a[35]=e("span",{class:"filter-label mb-0"},"Price Range",-1)),t(A),c.priceRange[0]>0||c.priceRange[1]<1e5?(s(),O(Q,{key:0,size:"x-small",color:"primary",variant:"tonal",class:"mr-2"},{default:o(()=>[...a[34]||(a[34]=[w(" Active ",-1)])]),_:1})):P("",!0)])]),_:1}),t(W,null,{default:o(()=>[e("div",wt,[t(ne,{modelValue:V.value[0],"onUpdate:modelValue":[a[3]||(a[3]=l=>V.value[0]=l),f(R)],type:"number",density:"compact",variant:"outlined",label:"Min",prefix:"৳","hide-details":"",class:"price-field"},null,8,["modelValue","onUpdate:modelValue"]),a[36]||(a[36]=e("span",{class:"price-separator"},"—",-1)),t(ne,{modelValue:V.value[1],"onUpdate:modelValue":[a[4]||(a[4]=l=>V.value[1]=l),f(R)],type:"number",density:"compact",variant:"outlined",label:"Max",prefix:"৳","hide-details":"",class:"price-field"},null,8,["modelValue","onUpdate:modelValue"])]),t(Y,{modelValue:V.value,"onUpdate:modelValue":[a[5]||(a[5]=l=>V.value=l),f(R)],min:0,max:1e5,step:50,color:"primary",class:"mt-4","thumb-label":"always","hide-details":""},{"thumb-label":o(({modelValue:l})=>[w(" ৳"+y(v(l)),1)]),_:1},8,["modelValue","onUpdate:modelValue"])]),_:1})]),_:1}),t(G,{elevation:"0","bg-color":"transparent"},{default:o(()=>[t(D,{class:"filter-panel-title"},{default:o(()=>[e("div",xt,[t(_,{icon:"mdi-package-variant-closed",size:"18",color:"primary",class:"mr-2"}),a[37]||(a[37]=e("span",{class:"filter-label mb-0"},"Availability",-1)),t(A),c.availability.length>0?(s(),O(Q,{key:0,size:"x-small",color:"primary",variant:"tonal",class:"mr-2"},{default:o(()=>[w(y(c.availability.length),1)]),_:1})):P("",!0)])]),_:1}),t(W,null,{default:o(()=>[t(se,{modelValue:T.value,"onUpdate:modelValue":[a[6]||(a[6]=l=>T.value=l),a[7]||(a[7]=l=>p.$emit("update:availability",T.value))],column:"",multiple:""},{default:o(()=>[(s(),r(z,null,F(J,l=>t(Q,{key:l.value,value:l.value,filter:"",variant:"outlined",color:"primary",size:"small"},{default:o(()=>[t(_,{icon:l.icon,size:"14",class:"mr-1"},null,8,["icon"]),w(" "+y(l.label),1)]),_:2},1032,["value"])),64))]),_:1},8,["modelValue"])]),_:1})]),_:1}),t(G,{elevation:"0","bg-color":"transparent"},{default:o(()=>[t(D,{class:"filter-panel-title"},{default:o(()=>[e("div",Ct,[t(_,{icon:"mdi-tag-multiple",size:"18",color:"primary",class:"mr-2"}),a[38]||(a[38]=e("span",{class:"filter-label mb-0"},"Brand",-1)),t(A),c.selectedBrands.length>0?(s(),O(Q,{key:0,size:"x-small",color:"primary",variant:"tonal",class:"mr-2"},{default:o(()=>[w(y(c.selectedBrands.length),1)]),_:1})):P("",!0)])]),_:1}),t(W,null,{default:o(()=>[t(Z,{modelValue:L.value,"onUpdate:modelValue":[a[8]||(a[8]=l=>L.value=l),a[9]||(a[9]=l=>p.$emit("update:brands",L.value))],items:c.brands,multiple:"",chips:"","closable-chips":"",density:"compact",variant:"outlined",placeholder:"Select brands","hide-details":"",class:"brand-select"},{chip:o(({item:l,props:E})=>[t(Q,be(E,{size:"small",color:"primary",variant:"flat"}),{default:o(()=>[w(y(l.title),1)]),_:2},1040)]),_:1},8,["modelValue","items"])]),_:1})]),_:1}),t(G,{elevation:"0","bg-color":"transparent"},{default:o(()=>[t(D,{class:"filter-panel-title"},{default:o(()=>[e("div",$t,[t(_,{icon:"mdi-star",size:"18",color:"primary",class:"mr-2"}),a[39]||(a[39]=e("span",{class:"filter-label mb-0"},"Minimum Rating",-1)),t(A),c.minRating>0?(s(),O(Q,{key:0,size:"x-small",color:"primary",variant:"tonal",class:"mr-2"},{default:o(()=>[w(y(c.minRating)+"+ ⭐ ",1)]),_:1})):P("",!0)])]),_:1}),t(W,null,{default:o(()=>[t(se,{modelValue:S.value,"onUpdate:modelValue":[a[10]||(a[10]=l=>S.value=l),a[11]||(a[11]=l=>p.$emit("update:minRating",S.value))],mandatory:""},{default:o(()=>[(s(),r(z,null,F([5,4,3,2,1],l=>t(Q,{key:l,value:l,filter:"",variant:"outlined",color:"primary",size:"small"},{default:o(()=>[w(y(l)+" ",1),t(_,{icon:"mdi-star",size:"12",class:"ml-1",color:"amber"}),a[40]||(a[40]=w(" & up ",-1))]),_:2},1032,["value"])),64))]),_:1},8,["modelValue"])]),_:1})]),_:1}),t(G,{elevation:"0","bg-color":"transparent"},{default:o(()=>[t(D,{class:"filter-panel-title"},{default:o(()=>[e("div",At,[t(_,{icon:"mdi-feature-search",size:"18",color:"primary",class:"mr-2"}),a[41]||(a[41]=e("span",{class:"filter-label mb-0"},"Features",-1)),t(A),c.selectedFeatures.length>0?(s(),O(Q,{key:0,size:"x-small",color:"primary",variant:"tonal",class:"mr-2"},{default:o(()=>[w(y(c.selectedFeatures.length),1)]),_:1})):P("",!0)])]),_:1}),t(W,null,{default:o(()=>[e("div",St,[(s(!0),r(z,null,F(c.features,l=>(s(),O(ee,{key:l.value,"model-value":u.value.includes(l.value),label:l.label,density:"compact","hide-details":"",color:"primary",class:"feature-checkbox","onUpdate:modelValue":E=>I(l.value,E)},{label:o(()=>[e("div",zt,[t(_,{icon:l.icon,size:"14",class:"mr-1"},null,8,["icon"]),e("span",Ft,y(l.label),1)])]),_:2},1032,["model-value","label","onUpdate:modelValue"]))),128))])]),_:1})]),_:1}),t(G,{elevation:"0","bg-color":"transparent"},{default:o(()=>[t(D,{class:"filter-panel-title"},{default:o(()=>[e("div",Vt,[t(_,{icon:"mdi-sale",size:"18",color:"primary",class:"mr-2"}),a[43]||(a[43]=e("span",{class:"filter-label mb-0"},"Discounts & Offers",-1)),t(A),c.discount?(s(),O(Q,{key:0,size:"x-small",color:"primary",variant:"tonal",class:"mr-2"},{default:o(()=>[...a[42]||(a[42]=[w(" Active ",-1)])]),_:1})):P("",!0)])]),_:1}),t(W,null,{default:o(()=>[t(se,{modelValue:C.value,"onUpdate:modelValue":[a[12]||(a[12]=l=>C.value=l),a[13]||(a[13]=l=>p.$emit("update:discount",C.value))]},{default:o(()=>[(s(),r(z,null,F(X,l=>t(Q,{key:l.value,value:l.value,filter:"",variant:"outlined",color:"primary",size:"small"},{default:o(()=>[w(y(l.label),1)]),_:2},1032,["value"])),64))]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1})):(s(),O(le,{key:3},{default:o(()=>[Ze(e("div",Ut,[e("div",Pt,[e("div",Bt,[t(_,{icon:"mdi-currency-usd",size:"18",color:"primary",class:"mr-2"}),a[44]||(a[44]=e("span",{class:"filter-label"},"Price Range",-1))]),e("div",Rt,[t(ne,{modelValue:V.value[0],"onUpdate:modelValue":[a[14]||(a[14]=l=>V.value[0]=l),f(R)],type:"number",density:"compact",variant:"outlined",label:"Min",prefix:"৳","hide-details":"",class:"price-field"},null,8,["modelValue","onUpdate:modelValue"]),a[45]||(a[45]=e("span",{class:"price-separator"},"—",-1)),t(ne,{modelValue:V.value[1],"onUpdate:modelValue":[a[15]||(a[15]=l=>V.value[1]=l),f(R)],type:"number",density:"compact",variant:"outlined",label:"Max",prefix:"৳","hide-details":"",class:"price-field"},null,8,["modelValue","onUpdate:modelValue"])]),t(Y,{modelValue:V.value,"onUpdate:modelValue":[a[16]||(a[16]=l=>V.value=l),f(R)],min:0,max:1e5,step:50,color:"primary",class:"mt-4","thumb-label":"always","hide-details":""},{"thumb-label":o(({modelValue:l})=>[w(" ৳"+y(v(l)),1)]),_:1},8,["modelValue","onUpdate:modelValue"])]),e("div",Nt,[e("div",Ot,[t(_,{icon:"mdi-package-variant-closed",size:"18",color:"primary",class:"mr-2"}),a[46]||(a[46]=e("span",{class:"filter-label"},"Availability",-1))]),t(se,{modelValue:T.value,"onUpdate:modelValue":[a[17]||(a[17]=l=>T.value=l),a[18]||(a[18]=l=>p.$emit("update:availability",T.value))],column:"",multiple:""},{default:o(()=>[(s(),r(z,null,F(J,l=>t(Q,{key:l.value,value:l.value,filter:"",variant:"outlined",color:"primary",size:"small"},{default:o(()=>[t(_,{icon:l.icon,size:"14",class:"mr-1"},null,8,["icon"]),w(" "+y(l.label),1)]),_:2},1032,["value"])),64))]),_:1},8,["modelValue"])]),e("div",It,[e("div",Mt,[t(_,{icon:"mdi-tag-multiple",size:"18",color:"primary",class:"mr-2"}),a[47]||(a[47]=e("span",{class:"filter-label"},"Brand",-1))]),t(Z,{modelValue:L.value,"onUpdate:modelValue":[a[19]||(a[19]=l=>L.value=l),a[20]||(a[20]=l=>p.$emit("update:brands",L.value))],items:c.brands,multiple:"",chips:"","closable-chips":"",density:"compact",variant:"outlined",placeholder:"Select brands","hide-details":"",class:"brand-select"},{chip:o(({item:l,props:E})=>[t(Q,be(E,{size:"small",color:"primary",variant:"flat"}),{default:o(()=>[w(y(l.title),1)]),_:2},1040)]),_:1},8,["modelValue","items"])]),e("div",Dt,[e("div",jt,[t(_,{icon:"mdi-star",size:"18",color:"primary",class:"mr-2"}),a[48]||(a[48]=e("span",{class:"filter-label"},"Minimum Rating",-1))]),t(se,{modelValue:S.value,"onUpdate:modelValue":[a[21]||(a[21]=l=>S.value=l),a[22]||(a[22]=l=>p.$emit("update:minRating",S.value))],mandatory:""},{default:o(()=>[(s(),r(z,null,F([5,4,3,2,1],l=>t(Q,{key:l,value:l,filter:"",variant:"outlined",color:"primary",size:"small"},{default:o(()=>[w(y(l)+" ",1),t(_,{icon:"mdi-star",size:"12",class:"ml-1",color:"amber"}),a[49]||(a[49]=w(" & up ",-1))]),_:2},1032,["value"])),64))]),_:1},8,["modelValue"])]),e("div",Et,[e("div",Lt,[t(_,{icon:"mdi-feature-search",size:"18",color:"primary",class:"mr-2"}),a[50]||(a[50]=e("span",{class:"filter-label"},"Features",-1))]),e("div",Tt,[(s(!0),r(z,null,F(c.features,l=>(s(),O(ee,{key:l.value,"model-value":u.value.includes(l.value),label:l.label,density:"compact","hide-details":"",color:"primary",class:"feature-checkbox","onUpdate:modelValue":E=>I(l.value,E)},{label:o(()=>[e("div",Qt,[t(_,{icon:l.icon,size:"14",class:"mr-1"},null,8,["icon"]),e("span",qt,y(l.label),1)])]),_:2},1032,["model-value","label","onUpdate:modelValue"]))),128))])]),e("div",Kt,[e("div",Wt,[t(_,{icon:"mdi-sale",size:"18",color:"primary",class:"mr-2"}),a[51]||(a[51]=e("span",{class:"filter-label"},"Discounts & Offers",-1))]),t(se,{modelValue:C.value,"onUpdate:modelValue":[a[23]||(a[23]=l=>C.value=l),a[24]||(a[24]=l=>p.$emit("update:discount",C.value))]},{default:o(()=>[(s(),r(z,null,F(X,l=>t(Q,{key:l.value,value:l.value,filter:"",variant:"outlined",color:"primary",size:"small"},{default:o(()=>[w(y(l.label),1)]),_:2},1032,["value"])),64))]),_:1},8,["modelValue"])])],512),[[Je,j.value]])]),_:1}))])]),_:1},8,["class"])])}}},Ue=_e(Ht,[["__scopeId","data-v-660aee04"]]),Gt={class:"d-flex align-center"},Yt={key:0,class:"text-center py-16"},Zt={key:1,class:"comparison-table"},Jt={class:"product-comparison-card"},Xt={class:"text-subtitle-1 font-weight-bold mb-2"},es={class:"text-h6 font-weight-black text-primary mb-2"},ts={class:"section-header"},ss=["colspan"],as={class:"font-weight-medium"},ls={key:0},ns={class:"font-weight-medium"},os={class:"text-h6 font-weight-black text-primary"},is={key:1},rs={key:1,class:"text-medium-emphasis"},cs={key:2},ds={key:1,class:"text-medium-emphasis"},us={key:3},ms={key:0,class:"d-flex align-center justify-center"},vs={class:"font-weight-bold"},ps={key:1,class:"text-medium-emphasis"},fs={key:4,class:"section-header"},ys=["colspan"],gs={key:5},bs={key:0,class:"text-body-2 text-left pa-2"},hs={key:1,class:"text-medium-emphasis"},_s={key:6,class:"section-header"},ks=["colspan"],ws={key:7},xs={key:0,class:"d-flex flex-column align-center gap-1 pa-2"},Cs={key:1,class:"text-medium-emphasis"},$s={key:8,class:"section-header"},As=["colspan"],Ss={class:"font-weight-bold bg-grey-lighten-4"},zs={class:"pa-2"},Fs={class:"text-body-2"},Vs={class:"section-header"},Us=["colspan"],Ps={key:9},Bs={key:0,class:"d-flex flex-wrap justify-center gap-1 pa-2"},Rs={key:1,class:"text-medium-emphasis"},Ns={key:10},Os={key:0,class:"d-flex flex-column align-center gap-1 pa-2"},Is={key:1,class:"text-medium-emphasis"},Ms={key:11},Ds={key:0,class:"d-flex flex-column align-start gap-2 pa-2"},js={class:"font-weight-bold text-body-2 mb-1"},Es={class:"text-body-2 text-medium-emphasis"},Ls={key:1,class:"text-medium-emphasis"},Ts={key:12},Qs={key:0,class:"text-left pa-2"},qs={class:"font-weight-medium"},Ks={class:"ml-1"},Ws={key:1,class:"text-medium-emphasis"},Hs={class:"text-body-2"},Gs={__name:"ComparisonDialog",props:{modelValue:{type:Boolean,default:!1},products:{type:Array,default:()=>[]},comparisonSpecs:{type:Array,default:()=>[]}},emits:["update:modelValue","remove-product","clear-all"],setup(c){const b=c,x=n=>n.thumbnail?n.thumbnail:n.images&&n.images.length>0?n.images[0]:"/assets/img/default.jpg",N=n=>n.categories&&n.categories.length>0?n.categories[0].name:"Uncategorized",H=n=>Re(n,"Contact for Price"),j=(n="")=>n.toString().replace(/_/g," ").split(" ").map(i=>i.charAt(0).toUpperCase()+i.slice(1)).join(" ").trim(),V=(n,i="",h="")=>{const A=[];return!n||typeof n!="object"||Object.entries(n).forEach(([D,Y])=>{const W=i?`${i}.${D}`:D,G=h?`${h} > ${j(D)}`:j(D);Y&&typeof Y=="object"&&!Array.isArray(Y)?A.push(...V(Y,W,G)):A.push({key:W,label:G})}),A},T=K(()=>{const n=new Map,i=["_key_features","_faqs","_warranty_info"];return(b.comparisonSpecs||[]).forEach(h=>{h!=null&&h.key&&!i.includes(h.key)&&n.set(h.key,h.label||j(h.key))}),b.products.forEach(h=>{h!=null&&h.specifications&&V(h.specifications).forEach(({key:A,label:D})=>{i.some(Y=>A===Y||A.startsWith(Y+"."))||n.has(A)||n.set(A,D)})}),Array.from(n.entries()).map(([h,A])=>({key:h,label:A}))}),L=n=>n==null||n===""?"N/A":Array.isArray(n)?n.length===0?"N/A":n.some(h=>typeof h=="object")?n.map((h,A)=>h&&typeof h=="object"?Object.entries(h).map(([D,Y])=>`${j(D)}: ${L(Y)}`).join("; "):`${A+1}. ${L(h)}`).join(" | "):n.join(", "):typeof n=="object"?Object.entries(n).map(([i,h])=>`${j(i)}: ${L(h)}`).join(" | "):n,S=(n,i)=>{if(!(n!=null&&n.specifications))return"N/A";const h=i.split(".");let A=n.specifications;for(const D of h)if(A&&Object.prototype.hasOwnProperty.call(A,D))A=A[D];else return"N/A";return L(A)},u=n=>{var i;return n.key_features&&Array.isArray(n.key_features)?n.key_features:(i=n.specifications)!=null&&i._key_features&&Array.isArray(n.specifications._key_features)?n.specifications._key_features:[]},C=n=>{if(n.recommended_use)return n.recommended_use;const i=N(n).toLowerCase();return i.includes("ups")?"Data Centers, Servers":i.includes("battery")?"Backup Power Systems":i.includes("solar")?"Renewable Energy Systems":"General Purpose"},J=n=>{var i;return(i=n.specifications)!=null&&i.Model?n.specifications.Model:"N/A"},X=n=>n.tags&&Array.isArray(n.tags)?n.tags.map(i=>i.name||i):[],te=n=>n.downloads&&Array.isArray(n.downloads)?n.downloads:[],$=n=>{var i;return(i=n.specifications)!=null&&i._faqs&&Array.isArray(n.specifications._faqs)?n.specifications._faqs:[]},v=n=>{var i;return(i=n.specifications)!=null&&i._warranty_info&&typeof n.specifications._warranty_info=="object"?n.specifications._warranty_info:null},R=K(()=>b.products.some(n=>n.rating)),M=K(()=>b.products.some(n=>{var i;return(i=n.specifications)==null?void 0:i.Model})),I=K(()=>b.products.some(n=>n.stock!==null&&n.stock!==void 0)),p=K(()=>b.products.some(n=>n.featured)),a=K(()=>b.products.some(n=>n.short_description||n.description)),_=K(()=>b.products.some(n=>u(n).length>0)),Q=K(()=>b.products.some(n=>X(n).length>0)),ie=K(()=>b.products.some(n=>te(n).length>0)),ne=K(()=>b.products.some(n=>$(n).length>0)),ue=K(()=>b.products.some(n=>v(n)!==null));return(n,i)=>{const h=g("v-icon"),A=g("v-btn"),D=g("v-card-title"),Y=g("v-img"),W=g("v-chip"),G=g("v-table"),se=g("v-card-text"),Z=g("v-spacer"),ee=g("v-card-actions"),ae=g("v-card"),le=g("v-dialog");return s(),O(le,{"model-value":c.modelValue,"max-width":"1400",scrollable:"","onUpdate:modelValue":i[3]||(i[3]=d=>n.$emit("update:modelValue",d))},{default:o(()=>[t(ae,{class:"rounded-xl"},{default:o(()=>[t(D,{class:"d-flex align-center justify-space-between pa-6 bg-primary text-white"},{default:o(()=>[e("div",Gt,[t(h,{icon:"mdi-scale-balance",class:"mr-3"}),i[4]||(i[4]=e("span",{class:"text-h5 font-weight-bold"},"Compare Products",-1))]),t(A,{icon:"mdi-close",variant:"text",color:"white",onClick:i[0]||(i[0]=d=>n.$emit("update:modelValue",!1))})]),_:1}),t(se,{class:"pa-0"},{default:o(()=>[c.products.length===0?(s(),r("div",Yt,[t(h,{icon:"mdi-scale-balance",size:"64",color:"grey-lighten-1",class:"mb-4"}),i[5]||(i[5]=e("p",{class:"text-body-1 text-medium-emphasis"},"No products selected for comparison.",-1)),i[6]||(i[6]=e("p",{class:"text-caption text-medium-emphasis mt-2"},"Select up to 3 products to compare.",-1))])):(s(),r("div",Zt,[t(G,{density:"comfortable",class:"comparison-table-content"},{default:o(()=>[e("thead",null,[e("tr",null,[i[8]||(i[8]=e("th",{class:"comparison-header"},"Feature",-1)),(s(!0),r(z,null,F(c.products,d=>(s(),r("th",{key:d.id,class:"comparison-product-header text-center"},[e("div",Jt,[t(A,{icon:"mdi-close",size:"x-small",variant:"text",class:"position-absolute top-0 right-0",onClick:l=>n.$emit("remove-product",d)},null,8,["onClick"]),t(Y,{src:x(d),alt:d.title,"max-height":"120",contain:"",class:"mb-3"},null,8,["src","alt"]),e("h4",Xt,y(d.title),1),e("div",es,y(H(d)),1),t(A,{variant:"outlined",color:"primary",size:"small",to:`/products/${d.slug}`},{default:o(()=>[...i[7]||(i[7]=[w(" View Details ",-1)])]),_:1},8,["to"])])]))),128))])]),e("tbody",null,[e("tr",ts,[e("td",{colspan:c.products.length+1,class:"font-weight-bold text-h6 bg-primary text-white pa-3"}," Basic Information ",8,ss)]),e("tr",null,[i[9]||(i[9]=e("td",{class:"font-weight-bold bg-grey-lighten-4"},"Category",-1)),(s(!0),r(z,null,F(c.products,d=>(s(),r("td",{key:d.id,class:"text-center"},[t(W,{size:"small",variant:"tonal",color:"primary"},{default:o(()=>[w(y(N(d)),1)]),_:2},1024)]))),128))]),e("tr",null,[i[10]||(i[10]=e("td",{class:"font-weight-bold bg-grey-lighten-4"},"SKU",-1)),(s(!0),r(z,null,F(c.products,d=>(s(),r("td",{key:d.id,class:"text-center"},[e("span",as,y(d.sku||"N/A"),1)]))),128))]),M.value?(s(),r("tr",ls,[i[11]||(i[11]=e("td",{class:"font-weight-bold bg-grey-lighten-4"},"Model",-1)),(s(!0),r(z,null,F(c.products,d=>(s(),r("td",{key:d.id,class:"text-center"},[e("span",ns,y(J(d)),1)]))),128))])):P("",!0),e("tr",null,[i[12]||(i[12]=e("td",{class:"font-weight-bold bg-grey-lighten-4"},"Price",-1)),(s(!0),r(z,null,F(c.products,d=>(s(),r("td",{key:d.id,class:"text-center"},[e("span",os,y(H(d)),1)]))),128))]),I.value?(s(),r("tr",is,[i[13]||(i[13]=e("td",{class:"font-weight-bold bg-grey-lighten-4"},"Stock Status",-1)),(s(!0),r(z,null,F(c.products,d=>(s(),r("td",{key:d.id,class:"text-center"},[d.stock!==null&&d.stock!==void 0?(s(),O(W,{key:0,color:d.stock>0?"success":"error",size:"small",variant:"flat"},{default:o(()=>[w(y(d.stock>0?`In Stock (${d.stock})`:"Out of Stock"),1)]),_:2},1032,["color"])):(s(),r("span",rs,"N/A"))]))),128))])):P("",!0),p.value?(s(),r("tr",cs,[i[15]||(i[15]=e("td",{class:"font-weight-bold bg-grey-lighten-4"},"Featured",-1)),(s(!0),r(z,null,F(c.products,d=>(s(),r("td",{key:d.id,class:"text-center"},[d.featured?(s(),O(W,{key:0,color:"amber",size:"small",variant:"flat"},{default:o(()=>[t(h,{icon:"mdi-star",size:"x-small",class:"mr-1"}),i[14]||(i[14]=w(" Featured ",-1))]),_:1})):(s(),r("span",ds,"No"))]))),128))])):P("",!0),R.value?(s(),r("tr",us,[i[16]||(i[16]=e("td",{class:"font-weight-bold bg-grey-lighten-4"},"Rating",-1)),(s(!0),r(z,null,F(c.products,d=>(s(),r("td",{key:d.id,class:"text-center"},[d.rating?(s(),r("div",ms,[t(h,{icon:"mdi-star",color:"amber",size:"small",class:"mr-1"}),e("span",vs,y(d.rating),1)])):(s(),r("span",ps,"N/A"))]))),128))])):P("",!0),a.value?(s(),r("tr",fs,[e("td",{colspan:c.products.length+1,class:"font-weight-bold text-h6 bg-primary text-white pa-3"}," Description ",8,ys)])):P("",!0),a.value?(s(),r("tr",gs,[i[17]||(i[17]=e("td",{class:"font-weight-bold bg-grey-lighten-4"},"Short Description",-1)),(s(!0),r(z,null,F(c.products,d=>(s(),r("td",{key:d.id,class:"text-center"},[d.short_description?(s(),r("p",bs,y(d.short_description),1)):(s(),r("span",hs,"N/A"))]))),128))])):P("",!0),_.value?(s(),r("tr",_s,[e("td",{colspan:c.products.length+1,class:"font-weight-bold text-h6 bg-primary text-white pa-3"}," Key Features ",8,ks)])):P("",!0),_.value?(s(),r("tr",ws,[i[18]||(i[18]=e("td",{class:"font-weight-bold bg-grey-lighten-4"},"Features",-1)),(s(!0),r(z,null,F(c.products,d=>(s(),r("td",{key:d.id,class:"text-center"},[u(d).length?(s(),r("div",xs,[(s(!0),r(z,null,F(u(d),(l,E)=>(s(),O(W,{key:E,size:"small",variant:"tonal",color:"primary",class:"mb-1"},{default:o(()=>[w(y(l),1)]),_:2},1024))),128))])):(s(),r("span",Cs,"N/A"))]))),128))])):P("",!0),T.value.length>0?(s(),r("tr",$s,[e("td",{colspan:c.products.length+1,class:"font-weight-bold text-h6 bg-primary text-white pa-3"}," Technical Specifications ",8,As)])):P("",!0),(s(!0),r(z,null,F(T.value,d=>(s(),r("tr",{key:d.key},[e("td",Ss,y(d.label),1),(s(!0),r(z,null,F(c.products,l=>(s(),r("td",{key:l.id,class:"text-center"},[e("div",zs,[e("span",Fs,y(S(l,d.key)),1)])]))),128))]))),128)),e("tr",Vs,[e("td",{colspan:c.products.length+1,class:"font-weight-bold text-h6 bg-primary text-white pa-3"}," Additional Information ",8,Us)]),Q.value?(s(),r("tr",Ps,[i[19]||(i[19]=e("td",{class:"font-weight-bold bg-grey-lighten-4"},"Tags",-1)),(s(!0),r(z,null,F(c.products,d=>(s(),r("td",{key:d.id,class:"text-center"},[X(d).length?(s(),r("div",Bs,[(s(!0),r(z,null,F(X(d),(l,E)=>(s(),O(W,{key:E,size:"x-small",variant:"outlined",color:"secondary"},{default:o(()=>[w(y(l),1)]),_:2},1024))),128))])):(s(),r("span",Rs,"N/A"))]))),128))])):P("",!0),ie.value?(s(),r("tr",Ns,[i[20]||(i[20]=e("td",{class:"font-weight-bold bg-grey-lighten-4"},"Downloads",-1)),(s(!0),r(z,null,F(c.products,d=>(s(),r("td",{key:d.id,class:"text-center"},[te(d).length?(s(),r("div",Os,[(s(!0),r(z,null,F(te(d),(l,E)=>(s(),O(W,{key:E,size:"small",variant:"outlined",color:"info",class:"mb-1"},{default:o(()=>[t(h,{icon:"mdi-download",size:"small",class:"mr-1"}),w(" "+y(l.name||`Download ${E+1}`),1)]),_:2},1024))),128))])):(s(),r("span",Is,"N/A"))]))),128))])):P("",!0),ne.value?(s(),r("tr",Ms,[i[21]||(i[21]=e("td",{class:"font-weight-bold bg-grey-lighten-4"},"FAQs",-1)),(s(!0),r(z,null,F(c.products,d=>(s(),r("td",{key:d.id,class:"text-center"},[$(d).length?(s(),r("div",Ds,[(s(!0),r(z,null,F($(d),(l,E)=>(s(),r("div",{key:E,class:"text-left w-100"},[e("div",js," Q"+y(E+1)+": "+y(l.question||"Question"),1),e("div",Es," A: "+y(l.answer||"Answer"),1)]))),128))])):(s(),r("span",Ls,"N/A"))]))),128))])):P("",!0),ue.value?(s(),r("tr",Ts,[i[22]||(i[22]=e("td",{class:"font-weight-bold bg-grey-lighten-4"},"Warranty Information",-1)),(s(!0),r(z,null,F(c.products,d=>(s(),r("td",{key:d.id,class:"text-center"},[v(d)?(s(),r("div",Qs,[(s(!0),r(z,null,F(v(d),(l,E)=>(s(),r("div",{key:E,class:"mb-1 text-body-2"},[e("span",qs,y(j(E))+":",1),e("span",Ks,y(L(l)),1)]))),128))])):(s(),r("span",Ws,"N/A"))]))),128))])):P("",!0),e("tr",null,[i[23]||(i[23]=e("td",{class:"font-weight-bold bg-grey-lighten-4"},"Recommended Use",-1)),(s(!0),r(z,null,F(c.products,d=>(s(),r("td",{key:d.id,class:"text-center"},[e("span",Hs,y(C(d)),1)]))),128))])])]),_:1})]))]),_:1}),t(ee,{class:"pa-4 bg-grey-lighten-5"},{default:o(()=>[t(Z),t(A,{variant:"text",onClick:i[1]||(i[1]=d=>n.$emit("clear-all"))},{default:o(()=>[...i[24]||(i[24]=[w(" Clear All ",-1)])]),_:1}),t(A,{color:"primary",variant:"flat",onClick:i[2]||(i[2]=d=>n.$emit("update:modelValue",!1))},{default:o(()=>[...i[25]||(i[25]=[w(" Close ",-1)])]),_:1})]),_:1})]),_:1})]),_:1},8,["model-value"])}}},Ys=_e(Gs,[["__scopeId","data-v-aafec947"]]),Zs={class:"products-page-modern position-relative"},Js={class:"mb-2 page-hero position-relative d-flex align-center justify-center text-center overflow-hidden"},Xs={class:"glass-pill d-inline-flex align-center px-5 py-3 rounded-pill mb-4 animate-float"},ea={class:"categories-section bg-white position-relative"},ta={class:"category-section-wrapper"},sa={class:"category-filter-wrapper"},aa={class:"category-text"},la={class:"pb-12 bg-grey-lighten-5 min-vh-100"},na={class:"results-banner mb-4"},oa={class:"results-icon-wrapper"},ia={class:"results-info"},ra={class:"text-subtitle-2 font-weight-bold text-grey-darken-3"},ca={class:"text-caption text-grey-darken-1"},da={key:0,class:"text-center py-16"},ua={key:1,class:"text-center py-16"},ma={key:3,class:"text-center mt-12"},he=12,va={__name:"ProductsPage",setup(c){const{products:b,loading:x,fetchProducts:N}=st(),{categories:H,fetchCategories:j}=at(),{activeCategory:V,searchQuery:T,sortBy:L,sortOptions:S,filteredProducts:u,sortByLabel:C,hasActiveFilters:J,activeFiltersCount:X,setActiveCategory:te,setSortBy:$,setSearchQuery:v,clearFilters:R}=lt(b),{comparisonProducts:M,showComparison:I,canAddMore:p,isInComparison:a,toggleComparison:_,removeFromComparison:Q,clearComparison:ie,openComparison:ne,getComparisonSpecs:ue}=nt(3),n=U(he),i=U(!1),h=U(!1),A=U(!1),D=U(null),Y=U(!1),W=U(!1),G=()=>{if(!D.value)return;const k=D.value;Y.value=k.scrollLeft>10,W.value=k.scrollLeft<k.scrollWidth-k.clientWidth-10},se=k=>{if(!D.value)return;const m=200,B=D.value;k==="left"?B.scrollBy({left:-m,behavior:"smooth"}):B.scrollBy({left:m,behavior:"smooth"}),setTimeout(G,100)},Z=U([0,1e5]),ee=U([]),ae=U([]),le=U(0),d=U([]),l=U(null),E=K(()=>{const k=new Set;return b.value.forEach(m=>{m.brand&&k.add(m.brand)}),Array.from(k).sort()}),ke=K(()=>{const k={wireless:"mdi-wifi",waterproof:"mdi-water",bluetooth:"mdi-bluetooth",rechargeable:"mdi-battery-charging",warranty:"mdi-shield-check",eco_friendly:"mdi-leaf"},m=new Set;return b.value.forEach(B=>{B.features&&Array.isArray(B.features)&&B.features.forEach(re=>{re&&m.add(re)})}),Array.from(m).sort().map(B=>({value:B,label:B.split("_").map(re=>re.charAt(0).toUpperCase()+re.slice(1)).join(" "),icon:k[B]||"mdi-check-circle"}))}),Ne=K(()=>ue()),de=K(()=>{let k=[...u.value];return(Z.value[0]>0||Z.value[1]<1e5)&&(k=k.filter(m=>{const B=parseFloat(m.price)||0;return B>=Z.value[0]&&B<=Z.value[1]})),ee.value.length>0&&(k=k.filter(m=>ee.value.includes(m.availability))),ae.value.length>0&&(k=k.filter(m=>ae.value.includes(m.brand))),le.value>0&&(k=k.filter(m=>(parseFloat(m.rating)||0)>=le.value)),d.value.length>0&&(k=k.filter(m=>!m.features||!Array.isArray(m.features)?!1:d.value.some(B=>m.features.includes(B)))),l.value&&(k=k.filter(m=>{const B=parseFloat(m.discount_percent)||0;return l.value==="any"?B>0:B>=parseFloat(l.value)})),k}),we=K(()=>de.value.slice(0,n.value)),Oe=K(()=>de.value.length>n.value),xe=k=>{Z.value=k},Ce=k=>{ee.value=k},$e=k=>{ae.value=k},Ae=k=>{le.value=k},Se=k=>{d.value=k},ze=k=>{l.value=k},Ie=k=>{!_(k)&&!a(k)&&console.warn("Cannot add more than 3 products to comparison")},Me=()=>{i.value=!0,setTimeout(()=>{n.value+=he,i.value=!1},200)},me=()=>{R(),Z.value=[0,1e5],ee.value=[],ae.value=[],le.value=0,d.value=[],l.value=null};oe([V,T,L,Z,ee,ae,le,d,l],()=>{n.value=he},{deep:!0});const fe=()=>{A.value=window.innerWidth<1280,ve(()=>{setTimeout(()=>{G()},100)})};return Pe(async()=>{fe(),window.addEventListener("resize",fe),await Promise.all([j(),N()]),ve(()=>{setTimeout(()=>{G()},100)})}),oe(()=>H.value,()=>{ve(()=>{setTimeout(()=>{G()},100)})},{deep:!0}),oe(()=>A.value,()=>{ve(()=>{setTimeout(()=>{G()},100)})}),Be(()=>{window.removeEventListener("resize",fe)}),(k,m)=>{const B=g("v-icon"),re=g("v-badge"),ce=g("v-btn"),De=g("v-fade-transition"),ye=g("v-container"),ge=g("v-col"),je=g("v-toolbar-title"),Ee=g("v-spacer"),Le=g("v-chip"),Te=g("v-toolbar"),Qe=g("v-card-text"),qe=g("v-divider"),Ke=g("v-card-actions"),We=g("v-card"),He=g("v-dialog"),Ge=g("v-progress-circular"),Fe=g("v-row");return s(),r("div",Zs,[!h.value&&A.value?(s(),O(ce,{key:0,class:pe(["mobile-filter-toggle d-lg-none",{"has-active-filters":f(J)}]),color:"primary",size:"large",elevation:"6",onClick:m[0]||(m[0]=q=>h.value=!0)},{default:o(()=>[t(B,{icon:"mdi-filter-variant",size:"20"}),m[7]||(m[7]=e("span",{class:"filter-text ml-2"},"Filters",-1)),f(J)?(s(),O(re,{key:0,content:f(X),color:"error",class:"filter-badge","offset-x":"-8","offset-y":"-8"},null,8,["content"])):P("",!0)]),_:1},8,["class"])):P("",!0),e("section",Js,[m[11]||(m[11]=Xe('<div class="hero-bg-gradient" data-v-0babff15></div><div class="hero-pattern" data-v-0babff15></div><div class="gradient-orb orb-1" data-v-0babff15></div><div class="gradient-orb orb-2" data-v-0babff15></div><div class="gradient-orb orb-3" data-v-0babff15></div>',5)),t(ye,{class:"position-relative z-index-2"},{default:o(()=>[t(De,{appear:""},{default:o(()=>[e("div",null,[e("div",Xs,[m[8]||(m[8]=e("div",{class:"pulse-dot mr-2"},null,-1)),t(B,{icon:"mdi-shield-check",color:"amber-accent-4",size:"small",class:"mr-2"}),m[9]||(m[9]=e("span",{class:"text-subtitle-2 font-weight-bold tracking-wide text-white"},"PREMIUM QUALITY",-1))]),m[10]||(m[10]=e("h1",{class:"text-h4 text-lg-h2 font-weight-black text-white mb-3 lh-tight text-shadow-sm animate-slide-up"},[w(" Explore Our "),e("span",{class:"text-amber-accent-3"},"Product Range")],-1))])]),_:1})]),_:1})]),e("section",ea,[t(ye,null,{default:o(()=>[e("div",ta,[e("div",sa,[Y.value?(s(),r("div",{key:0,class:"scroll-indicator left-indicator",onClick:m[1]||(m[1]=q=>se("left"))},[t(B,{icon:"mdi-chevron-left",color:"primary",size:"small"})])):P("",!0),W.value?(s(),r("div",{key:1,class:"scroll-indicator right-indicator",onClick:m[2]||(m[2]=q=>se("right"))},[t(B,{icon:"mdi-chevron-right",color:"primary",size:"small"})])):P("",!0),e("div",{ref_key:"categoryScroll",ref:D,class:"category-filter",onScroll:G},[(s(!0),r(z,null,F(f(H),q=>(s(),O(ce,{key:q.id,variant:"flat",color:f(V)===q.id?"primary":"grey-lighten-3",class:pe(["category-btn font-weight-bold text-capitalize rounded-pill flex-shrink-0",{"category-btn-active":f(V)===q.id,"category-btn-inactive":f(V)!==q.id}]),size:"small",density:"comfortable",onClick:pa=>f(te)(q.id),"aria-pressed":f(V)===q.id},{default:o(()=>[q.icon?(s(),O(B,{key:0,icon:q.icon,size:"14",class:"mr-1"},null,8,["icon"])):P("",!0),e("span",aa,y(q.name),1)]),_:2},1032,["color","class","onClick","aria-pressed"]))),128))],544)])])]),_:1})]),e("section",la,[t(ye,{fluid:""},{default:o(()=>[t(Fe,{class:"products-layout"},{default:o(()=>[t(ge,{lg:"3",xl:"2",class:"filter-sidebar d-none d-lg-block"},{default:o(()=>[t(Ue,{"search-query":f(T),"sort-by":f(L),"sort-options":f(S),"sort-by-label":f(C),"has-active-filters":f(J),"active-filters-count":f(X),"comparison-count":f(M).length,"results-count":de.value.length,"price-range":Z.value,availability:ee.value,brands:E.value,"selected-brands":ae.value,"min-rating":le.value,features:ke.value,"selected-features":d.value,discount:l.value,"onUpdate:searchQuery":f(v),"onUpdate:sortBy":f($),"onUpdate:priceRange":xe,"onUpdate:availability":Ce,"onUpdate:brands":$e,"onUpdate:minRating":Ae,"onUpdate:features":Se,"onUpdate:discount":ze,onClearFilters:me,onOpenComparison:f(ne)},null,8,["search-query","sort-by","sort-options","sort-by-label","has-active-filters","active-filters-count","comparison-count","results-count","price-range","availability","brands","selected-brands","min-rating","features","selected-features","discount","onUpdate:searchQuery","onUpdate:sortBy","onOpenComparison"])]),_:1}),t(He,{modelValue:h.value,"onUpdate:modelValue":m[5]||(m[5]=q=>h.value=q),fullscreen:"",transition:"dialog-bottom-transition",class:"mobile-filters-dialog d-lg-none",scrollable:"",persistent:""},{default:o(()=>[t(We,{class:"mobile-filter-card"},{default:o(()=>[t(Te,{color:"primary",class:"mobile-filter-toolbar",elevation:"2"},{default:o(()=>[t(ce,{icon:"mdi-close",onClick:m[3]||(m[3]=q=>h.value=!1),"aria-label":"Close filters"}),t(je,{class:"font-weight-bold"},{default:o(()=>[t(B,{icon:"mdi-filter-variant",size:"20",class:"mr-2"}),m[12]||(m[12]=w(" Filters ",-1))]),_:1}),t(Ee),f(J)?(s(),O(Le,{key:0,color:"white",variant:"flat",size:"small",class:"filter-count-chip"},{default:o(()=>[w(y(f(X))+" active ",1)]),_:1})):P("",!0)]),_:1}),t(Qe,{class:"mobile-dialog-content pa-4"},{default:o(()=>[e("div",na,[e("div",oa,[t(B,{icon:"mdi-package-variant",color:"primary",size:"24"})]),e("div",ia,[e("span",ra,y(de.value.length)+" Products ",1),e("span",ca,y(f(J)?"Filtered results":"All available products"),1)])]),t(Ue,{"search-query":f(T),"sort-by":f(L),"sort-options":f(S),"sort-by-label":f(C),"has-active-filters":f(J),"active-filters-count":f(X),"comparison-count":f(M).length,"results-count":de.value.length,"price-range":Z.value,availability:ee.value,brands:E.value,"selected-brands":ae.value,"min-rating":le.value,features:ke.value,"selected-features":d.value,discount:l.value,mobile:!0,"onUpdate:activeCategory":f(te),"onUpdate:searchQuery":f(v),"onUpdate:sortBy":f($),"onUpdate:priceRange":xe,"onUpdate:availability":Ce,"onUpdate:brands":$e,"onUpdate:minRating":Ae,"onUpdate:features":Se,"onUpdate:discount":ze,onClearFilters:me,onOpenComparison:f(ne)},null,8,["search-query","sort-by","sort-options","sort-by-label","has-active-filters","active-filters-count","comparison-count","results-count","price-range","availability","brands","selected-brands","min-rating","features","selected-features","discount","onUpdate:activeCategory","onUpdate:searchQuery","onUpdate:sortBy","onOpenComparison"])]),_:1}),t(qe),t(Ke,{class:"mobile-dialog-footer pa-4"},{default:o(()=>[t(ce,{variant:"outlined",color:"grey-darken-1",size:"large",class:"flex-grow-1",onClick:me},{default:o(()=>[t(B,{icon:"mdi-refresh",class:"mr-2"}),m[13]||(m[13]=w(" Reset ",-1))]),_:1}),t(ce,{color:"primary",size:"large",class:"flex-grow-1",onClick:m[4]||(m[4]=q=>h.value=!1)},{default:o(()=>[t(B,{icon:"mdi-check",class:"mr-2"}),m[14]||(m[14]=w(" Apply Filters ",-1))]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),t(ge,{cols:"12",lg:"9",xl:"10",class:"products-content"},{default:o(()=>[f(x)?(s(),r("div",da,[t(Ge,{indeterminate:"",color:"primary",size:"64"}),m[15]||(m[15]=e("p",{class:"text-body-1 text-medium-emphasis mt-4"},"Loading products...",-1))])):de.value.length===0?(s(),r("div",ua,[t(B,{icon:"mdi-package-variant",size:"64",color:"grey-lighten-1",class:"mb-4"}),m[17]||(m[17]=e("h3",{class:"text-h6 font-weight-bold text-grey-darken-2 mb-2"},"No products found",-1)),m[18]||(m[18]=e("p",{class:"text-body-2 text-medium-emphasis mb-6"}," Try adjusting your filters or search terms. ",-1)),t(ce,{variant:"outlined",color:"primary",onClick:me},{default:o(()=>[...m[16]||(m[16]=[w(" Clear Filters ",-1)])]),_:1})])):(s(),O(Fe,{key:2},{default:o(()=>[(s(!0),r(z,null,F(we.value,q=>(s(),O(ge,{key:q.id,cols:"12",sm:"6",md:"3"},{default:o(()=>[t(tt,{product:q,"comparison-disabled":!f(p)&&!f(a)(q),onToggleComparison:Ie},null,8,["product","comparison-disabled"])]),_:2},1024))),128))]),_:1})),we.value.length>0&&Oe.value?(s(),r("div",ma,[t(ce,{variant:"outlined",color:"primary",size:"large",rounded:"pill",class:"px-10 font-weight-bold",onClick:Me,loading:i.value},{default:o(()=>[...m[19]||(m[19]=[w(" Load More Products ",-1)])]),_:1},8,["loading"])])):P("",!0)]),_:1})]),_:1})]),_:1})]),t(Ys,{modelValue:f(I),"onUpdate:modelValue":m[6]||(m[6]=q=>et(I)?I.value=q:null),products:f(M),"comparison-specs":Ne.value,onRemoveProduct:f(Q),onClearAll:f(ie)},null,8,["modelValue","products","comparison-specs","onRemoveProduct","onClearAll"])])}}},_a=_e(va,[["__scopeId","data-v-0babff15"]]);export{_a as default};
