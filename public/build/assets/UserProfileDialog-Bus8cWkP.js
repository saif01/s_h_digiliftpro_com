import{h as N}from"./moment-BLMuvzoS.js";import{r as E}from"./uploads-CnEkgyD_.js";import{_ as F,c as i,w as e,b as l,r as u,a as v,f as r,d as _,g as d,t as m,F as x,e as b,o as a}from"./app-DFB2AWLk.js";const Y={name:"UserProfileDialog",props:{modelValue:{type:Boolean,default:!1},user:{type:Object,default:null}},emits:["update:modelValue"],data(){return{loading:!1}},computed:{dialog:{get(){return this.modelValue},set(o){this.$emit("update:modelValue",o)}},resolvedAvatar(){return!this.user||!this.user.avatar?null:this.resolveImageUrl(this.user.avatar)},userRoles(){var o;return((o=this.user)==null?void 0:o.roles)||[]},userPermissions(){if(!this.user||!this.userRoles||this.userRoles.length===0)return[];const o=[];return this.userRoles.forEach(t=>{t.permissions&&t.permissions.length>0&&t.permissions.forEach(s=>{o.includes(s.slug)||o.push(s.slug)})}),o}},methods:{closeDialog(){this.dialog=!1},resolveImageUrl(o){return E(o)},formatDate(o){return o?N(o).format("MMMM Do, YYYY"):"N/A"},formatGender(o){return{male:"Male",female:"Female",other:"Other"}[o]||o}}},G={class:"text-h5 font-weight-bold"},I={key:0,class:"d-flex align-center justify-center pa-12"},L={class:"text-center"},O={key:1,class:"pa-6"},S={class:"text-center mb-6"},T={class:"text-h5 font-weight-bold mb-2"},q={key:0,class:"d-flex flex-wrap justify-center gap-2 mb-2"},H={key:0,class:"mb-1"},J={key:0},K={key:1},Q={key:2},W={key:3},X={key:4},Z={key:1,class:"mt-1"},$={class:"d-flex flex-wrap gap-2 mt-2"},ee={class:"d-flex flex-wrap gap-2 mt-2"},te={key:2,class:"d-flex align-center justify-center pa-12"},le={class:"text-center"};function se(o,t,s,re,w,n){const f=u("v-icon"),h=u("v-btn"),D=u("v-card-title"),R=u("v-progress-circular"),V=u("v-img"),P=u("v-avatar"),p=u("v-chip"),U=u("v-divider"),y=u("v-list-item-title"),g=u("v-list-item-subtitle"),k=u("v-list-item"),C=u("v-list"),M=u("v-card-text"),B=u("v-spacer"),z=u("v-card-actions"),A=u("v-card"),j=u("v-dialog");return a(),i(j,{modelValue:n.dialog,"onUpdate:modelValue":t[0]||(t[0]=c=>n.dialog=c),"max-width":"700",scrollable:"",persistent:""},{default:e(()=>[l(A,null,{default:e(()=>[l(D,{class:"d-flex align-center justify-space-between bg-primary text-white pa-4"},{default:e(()=>[v("span",G,[l(f,{class:"mr-2"},{default:e(()=>[...t[1]||(t[1]=[r("mdi-account",-1)])]),_:1}),t[2]||(t[2]=r(" User Profile ",-1))]),l(h,{icon:"mdi-close",variant:"text",color:"white",onClick:n.closeDialog},null,8,["onClick"])]),_:1}),l(M,{class:"pa-0"},{default:e(()=>[w.loading?(a(),_("div",I,[v("div",L,[l(R,{indeterminate:"",color:"primary",size:"64"}),t[3]||(t[3]=v("p",{class:"text-body-1 text-medium-emphasis mt-4"},"Loading profile...",-1))])])):s.user?(a(),_("div",O,[v("div",S,[l(P,{size:"120",class:"mb-4 elevation-4"},{default:e(()=>[n.resolvedAvatar?(a(),i(V,{key:0,src:n.resolvedAvatar,alt:s.user.name,cover:""},null,8,["src","alt"])):(a(),i(f,{key:1,size:"60",color:"primary"},{default:e(()=>[...t[4]||(t[4]=[r("mdi-account",-1)])]),_:1}))]),_:1}),v("h2",T,m(s.user.name),1),n.userRoles&&n.userRoles.length>0?(a(),_("div",q,[(a(!0),_(x,null,b(n.userRoles,c=>(a(),i(p,{key:c.id,color:"primary",variant:"flat"},{default:e(()=>[r(m(c.name),1)]),_:2},1024))),128))])):d("",!0)]),l(U,{class:"my-4"}),l(C,{density:"comfortable"},{default:e(()=>[s.user.email?(a(),i(k,{key:0},{prepend:e(()=>[l(f,{color:"primary"},{default:e(()=>[...t[5]||(t[5]=[r("mdi-email",-1)])]),_:1})]),default:e(()=>[l(y,null,{default:e(()=>[...t[6]||(t[6]=[r("Email",-1)])]),_:1}),l(g,null,{default:e(()=>[r(m(s.user.email),1)]),_:1})]),_:1})):d("",!0),s.user.phone?(a(),i(k,{key:1},{prepend:e(()=>[l(f,{color:"primary"},{default:e(()=>[...t[7]||(t[7]=[r("mdi-phone",-1)])]),_:1})]),default:e(()=>[l(y,null,{default:e(()=>[...t[8]||(t[8]=[r("Phone",-1)])]),_:1}),l(g,null,{default:e(()=>[r(m(s.user.phone),1)]),_:1})]),_:1})):d("",!0),s.user.date_of_birth?(a(),i(k,{key:2},{prepend:e(()=>[l(f,{color:"primary"},{default:e(()=>[...t[9]||(t[9]=[r("mdi-calendar",-1)])]),_:1})]),default:e(()=>[l(y,null,{default:e(()=>[...t[10]||(t[10]=[r("Date of Birth",-1)])]),_:1}),l(g,null,{default:e(()=>[r(m(n.formatDate(s.user.date_of_birth)),1)]),_:1})]),_:1})):d("",!0),s.user.gender?(a(),i(k,{key:3},{prepend:e(()=>[l(f,{color:"primary"},{default:e(()=>[...t[11]||(t[11]=[r("mdi-gender-male-female",-1)])]),_:1})]),default:e(()=>[l(y,null,{default:e(()=>[...t[12]||(t[12]=[r("Gender",-1)])]),_:1}),l(g,null,{default:e(()=>[r(m(n.formatGender(s.user.gender)),1)]),_:1})]),_:1})):d("",!0),s.user.address||s.user.city||s.user.state||s.user.country||s.user.postal_code?(a(),i(k,{key:4},{prepend:e(()=>[l(f,{color:"primary"},{default:e(()=>[...t[13]||(t[13]=[r("mdi-map-marker",-1)])]),_:1})]),default:e(()=>[l(y,null,{default:e(()=>[...t[14]||(t[14]=[r("Address",-1)])]),_:1}),l(g,null,{default:e(()=>[s.user.address?(a(),_("div",H,m(s.user.address),1)):d("",!0),v("div",null,[s.user.city?(a(),_("span",J,m(s.user.city),1)):d("",!0),s.user.city&&s.user.state?(a(),_("span",K,", ")):d("",!0),s.user.state?(a(),_("span",Q,m(s.user.state),1)):d("",!0),(s.user.city||s.user.state)&&s.user.postal_code?(a(),_("span",W)):d("",!0),s.user.postal_code?(a(),_("span",X,m(s.user.postal_code),1)):d("",!0)]),s.user.country?(a(),_("div",Z,m(s.user.country),1)):d("",!0)]),_:1})]),_:1})):d("",!0),n.userRoles&&n.userRoles.length>0?(a(),i(k,{key:5},{prepend:e(()=>[l(f,{color:"primary"},{default:e(()=>[...t[15]||(t[15]=[r("mdi-shield-account",-1)])]),_:1})]),default:e(()=>[l(y,null,{default:e(()=>[...t[16]||(t[16]=[r("Assigned Roles",-1)])]),_:1}),l(g,null,{default:e(()=>[v("div",$,[(a(!0),_(x,null,b(n.userRoles,c=>(a(),i(p,{key:c.id,size:"small",color:"primary",variant:"outlined"},{default:e(()=>[r(m(c.name),1)]),_:2},1024))),128))])]),_:1})]),_:1})):d("",!0),n.userPermissions&&n.userPermissions.length>0?(a(),i(k,{key:6},{prepend:e(()=>[l(f,{color:"primary"},{default:e(()=>[...t[17]||(t[17]=[r("mdi-key",-1)])]),_:1})]),default:e(()=>[l(y,null,{default:e(()=>[...t[18]||(t[18]=[r("Permissions",-1)])]),_:1}),l(g,null,{default:e(()=>[v("div",ee,[(a(!0),_(x,null,b(n.userPermissions,c=>(a(),i(p,{key:c,size:"small",color:"success",variant:"outlined"},{default:e(()=>[r(m(c),1)]),_:2},1024))),128))])]),_:1})]),_:1})):d("",!0),s.user.bio?(a(),i(k,{key:7},{prepend:e(()=>[l(f,{color:"primary"},{default:e(()=>[...t[19]||(t[19]=[r("mdi-text",-1)])]),_:1})]),default:e(()=>[l(y,null,{default:e(()=>[...t[20]||(t[20]=[r("Bio",-1)])]),_:1}),l(g,{class:"text-body-2"},{default:e(()=>[r(m(s.user.bio),1)]),_:1})]),_:1})):d("",!0),s.user.created_at?(a(),i(k,{key:8},{prepend:e(()=>[l(f,{color:"primary"},{default:e(()=>[...t[21]||(t[21]=[r("mdi-calendar-plus",-1)])]),_:1})]),default:e(()=>[l(y,null,{default:e(()=>[...t[22]||(t[22]=[r("Member Since",-1)])]),_:1}),l(g,null,{default:e(()=>[r(m(n.formatDate(s.user.created_at)),1)]),_:1})]),_:1})):d("",!0)]),_:1})])):(a(),_("div",te,[v("div",le,[l(f,{size:"64",color:"error"},{default:e(()=>[...t[23]||(t[23]=[r("mdi-alert-circle",-1)])]),_:1}),t[24]||(t[24]=v("p",{class:"text-body-1 text-medium-emphasis mt-4"},"Failed to load profile",-1))])]))]),_:1}),l(z,{class:"pa-4 bg-grey-lighten-4"},{default:e(()=>[l(B),l(h,{color:"primary",variant:"flat",onClick:n.closeDialog},{default:e(()=>[...t[25]||(t[25]=[r(" Close ",-1)])]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"])}const ue=F(Y,[["render",se],["__scopeId","data-v-8bef06c6"]]);export{ue as U};
