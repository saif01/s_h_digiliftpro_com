import{_ as A,r as l,c as x,o as n,w as a,b as t,m as H,d,g as y,a as s,n as J,F as B,e as j,f,t as _,p as b,q as W,u as X,j as Y}from"./app-BuUxLUZB.js";const ee={key:0,class:"blog-image-container position-relative bg-grey-lighten-4",style:{height:"240px",overflow:"hidden"}},te={class:"image-overlay position-absolute bottom-0 left-0 right-0 pa-4"},ae={class:"d-flex align-center gap-2 flex-wrap"},le={class:"pa-5"},oe={class:"d-flex align-center justify-space-between mb-3"},se={class:"d-flex align-center gap-2 text-caption text-medium-emphasis"},ne={key:0,class:"d-flex align-center gap-1 text-caption text-medium-emphasis"},ie={class:"text-h6 font-weight-bold text-grey-darken-4 mb-3 lh-tight",style:{"min-height":"56px"}},re={key:0,class:"text-body-2 text-medium-emphasis mb-4 line-clamp-3",style:{"min-height":"60px"}},de={key:1,class:"d-flex align-center gap-3 mb-4"},ce={class:"text-body-2 font-weight-medium"},ue={key:2,class:"d-flex flex-wrap gap-2 mb-4"},me={__name:"BlogCard",props:{post:{type:Object,required:!0}},setup(o){const w=c=>c?new Date(c).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):"",k=c=>c?c>=1e3?(c/1e3).toFixed(1)+"K":c.toString():"0";return(c,p)=>{const m=l("v-img"),v=l("v-chip"),u=l("v-icon"),C=l("v-avatar"),F=l("v-btn"),N=l("v-card"),g=l("v-hover");return n(),x(g,null,{default:a(({isHovering:z,props:$})=>[t(N,H($,{elevation:z?8:2,class:"blog-card h-100 bg-white rounded-xl overflow-hidden transition-all",to:`/blog/${o.post.slug}`}),{default:a(()=>{var S;return[o.post.featured_image?(n(),d("div",ee,[t(m,{src:o.post.featured_image||"/assets/img/default.jpg",alt:o.post.title,height:"100%",cover:"",class:J(["blog-img transition-transform",{"scale-110":z}])},null,8,["src","alt","class"]),s("div",te,[s("div",ae,[(n(!0),d(B,null,j((S=o.post.categories)==null?void 0:S.slice(0,2),h=>(n(),x(v,{key:h.id,size:"small",color:"primary",variant:"flat",class:"font-weight-bold"},{default:a(()=>[f(_(h.name),1)]),_:2},1024))),128))])])])):y("",!0),s("div",le,[s("div",oe,[s("div",se,[t(u,{icon:"mdi-calendar",size:"small"}),s("span",null,_(w(o.post.published_at)),1)]),o.post.views?(n(),d("div",ne,[t(u,{icon:"mdi-eye",size:"small"}),s("span",null,_(k(o.post.views)),1)])):y("",!0)]),s("h3",ie,_(o.post.title),1),o.post.excerpt?(n(),d("p",re,_(o.post.excerpt),1)):y("",!0),o.post.author?(n(),d("div",de,[t(C,{size:"32",color:"primary"},{default:a(()=>[t(u,{icon:"mdi-account",color:"white",size:"small"})]),_:1}),s("div",null,[s("div",ce,_(o.post.author.name||o.post.author.email),1)])])):y("",!0),o.post.tags&&o.post.tags.length>0?(n(),d("div",ue,[(n(!0),d(B,null,j(o.post.tags.slice(0,3),h=>(n(),x(v,{key:h.id,size:"x-small",variant:"outlined",color:"primary"},{default:a(()=>[f(_(h.name),1)]),_:2},1024))),128)),o.post.tags.length>3?(n(),x(v,{key:0,size:"x-small",variant:"text",color:"grey"},{default:a(()=>[f(" +"+_(o.post.tags.length-3)+" more ",1)]),_:1})):y("",!0)])):y("",!0),t(F,{variant:"text",color:"primary",class:"px-0 font-weight-bold text-capitalize",to:`/blog/${o.post.slug}`},{default:a(()=>[p[0]||(p[0]=f(" Read More ",-1)),t(u,{icon:"mdi-arrow-right",size:"small",class:"ml-1"})]),_:1},8,["to"])])]}),_:2},1040,["elevation","to"])]),_:1})}}},ve=A(me,[["__scopeId","data-v-d1d93dce"]]),pe={class:"blog-page-modern"},ge={class:"mb-2 page-hero position-relative d-flex align-center justify-center text-center overflow-hidden"},_e={class:"glass-pill d-inline-flex align-center px-4 py-2 rounded-pill mb-3 animate-float"},fe={class:"py-12 bg-grey-lighten-5 min-vh-100"},be={key:0,class:"text-center py-16"},he={key:1,class:"text-center py-16"},ye={key:3,class:"d-flex justify-center mt-8"},xe={__name:"BlogPage",setup(o){const w=b([]),k=b([]),c=b(!1),p=b(""),m=b(null),v=b("published_at"),u=b(1),C=b({total:0,last_page:1,per_page:12,current_page:1}),F=W(()=>k.value.map(i=>({title:i.name,value:i.slug}))),N=[{title:"Latest First",value:"published_at"},{title:"Oldest First",value:"published_at_asc"},{title:"Most Views",value:"views"},{title:"Title A-Z",value:"title"}],g=async()=>{try{c.value=!0;const i={page:u.value,per_page:12};p.value&&(i.search=p.value),m.value&&(i.category=m.value),v.value==="published_at_asc"?(i.sort_by="published_at",i.sort_direction="asc"):(i.sort_by=v.value,i.sort_direction=v.value==="title"?"asc":"desc");const e=await this.$axios.get("/api/openapi/blog",{params:i});w.value=e.data.data||[],C.value={total:e.data.total||0,last_page:e.data.last_page||1,per_page:e.data.per_page||12,current_page:e.data.current_page||1},u.value=e.data.current_page||1}catch(i){console.error("Error loading blog posts:",i),w.value=[]}finally{c.value=!1}},z=async()=>{var i;try{const e=await this.$axios.get("/api/openapi/blog/categories");k.value=e.data||[]}catch(e){console.error("Error loading categories:",e),k.value=[],((i=e.response)==null?void 0:i.status)!==404&&console.warn("Categories could not be loaded. The page will continue to work without category filtering.")}},$=i=>{m.value=i,u.value=1,g()},S=()=>{u.value=1,g()},h=()=>{p.value="",m.value=null,v.value="published_at",u.value=1,g()};return X(async()=>{await Promise.all([z(),g()])}),(i,e)=>{const T=l("v-icon"),M=l("v-fade-transition"),L=l("v-container"),q=l("v-text-field"),V=l("v-col"),O=l("v-select"),P=l("v-row"),U=l("v-card-text"),D=l("v-card"),G=l("v-card-title"),E=l("v-list-item-title"),I=l("v-list-item"),K=l("v-list"),Q=l("v-progress-circular"),R=l("v-btn"),Z=l("v-pagination");return n(),d("div",pe,[s("section",ge,[e[8]||(e[8]=Y('<div class="hero-bg-gradient" data-v-29ee9b6e></div><div class="hero-pattern" data-v-29ee9b6e></div><div class="gradient-orb orb-1" data-v-29ee9b6e></div><div class="gradient-orb orb-2" data-v-29ee9b6e></div><div class="gradient-orb orb-3" data-v-29ee9b6e></div>',5)),t(L,{class:"position-relative z-index-2"},{default:a(()=>[t(M,{appear:""},{default:a(()=>[s("div",null,[s("div",_e,[e[5]||(e[5]=s("div",{class:"pulse-dot mr-2"},null,-1)),t(T,{icon:"mdi-book-open-page-variant",color:"amber-accent-4",size:"small",class:"mr-2"}),e[6]||(e[6]=s("span",{class:"text-subtitle-2 font-weight-bold tracking-wide text-white"},"LATEST INSIGHTS",-1))]),e[7]||(e[7]=s("h1",{class:"text-h4 text-lg-h2 font-weight-black text-white mb-2 lh-tight text-shadow-sm animate-slide-up"},[f(" Our "),s("span",{class:"text-amber-accent-3"},"Blog")],-1))])]),_:1})]),_:1})]),s("section",fe,[t(L,null,{default:a(()=>[t(D,{class:"mb-6",elevation:"2"},{default:a(()=>[t(U,{class:"pa-4"},{default:a(()=>[t(P,null,{default:a(()=>[t(V,{cols:"12",md:"6"},{default:a(()=>[t(q,{modelValue:p.value,"onUpdate:modelValue":[e[0]||(e[0]=r=>p.value=r),S],label:"Search posts","prepend-inner-icon":"mdi-magnify",variant:"outlined",density:"compact",clearable:""},null,8,["modelValue"])]),_:1}),t(V,{cols:"12",md:"3"},{default:a(()=>[t(O,{modelValue:m.value,"onUpdate:modelValue":[e[1]||(e[1]=r=>m.value=r),g],items:F.value,label:"Category","prepend-inner-icon":"mdi-filter",variant:"outlined",density:"compact",clearable:""},null,8,["modelValue","items"])]),_:1}),t(V,{cols:"12",md:"3"},{default:a(()=>[t(O,{modelValue:v.value,"onUpdate:modelValue":[e[2]||(e[2]=r=>v.value=r),g],items:N,label:"Sort by","prepend-inner-icon":"mdi-sort",variant:"outlined",density:"compact"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1}),t(P,null,{default:a(()=>[t(V,{cols:"12",md:"3",class:"d-none d-md-block"},{default:a(()=>[t(D,{class:"mb-6",elevation:"2",sticky:""},{default:a(()=>[t(G,{class:"bg-primary text-white"},{default:a(()=>[t(T,{icon:"mdi-folder",class:"mr-2"}),e[9]||(e[9]=f(" Categories ",-1))]),_:1}),t(U,{class:"pa-0"},{default:a(()=>[t(K,{density:"compact"},{default:a(()=>[t(I,{active:!m.value,onClick:e[3]||(e[3]=r=>$(null)),class:"cursor-pointer"},{default:a(()=>[t(E,null,{default:a(()=>[...e[10]||(e[10]=[f("All Categories",-1)])]),_:1})]),_:1},8,["active"]),(n(!0),d(B,null,j(k.value,r=>(n(),x(I,{key:r.id,active:m.value===r.slug,onClick:we=>$(r.slug),class:"cursor-pointer"},{default:a(()=>[t(E,null,{default:a(()=>[f(_(r.name),1)]),_:2},1024)]),_:2},1032,["active","onClick"]))),128))]),_:1})]),_:1})]),_:1})]),_:1}),t(V,{cols:"12",md:"9"},{default:a(()=>[c.value?(n(),d("div",be,[t(Q,{indeterminate:"",color:"primary",size:"64"}),e[11]||(e[11]=s("p",{class:"text-body-1 text-medium-emphasis mt-4"},"Loading blog posts...",-1))])):w.value.length===0?(n(),d("div",he,[t(T,{icon:"mdi-book-open-variant",size:"64",color:"grey-lighten-1",class:"mb-4"}),e[13]||(e[13]=s("h3",{class:"text-h6 font-weight-bold text-grey-darken-2 mb-2"},"No blog posts found",-1)),e[14]||(e[14]=s("p",{class:"text-body-2 text-medium-emphasis mb-6"}," Try adjusting your search or filters. ",-1)),t(R,{variant:"outlined",color:"primary",onClick:h},{default:a(()=>[...e[12]||(e[12]=[f(" Clear Filters ",-1)])]),_:1})])):(n(),x(P,{key:2},{default:a(()=>[(n(!0),d(B,null,j(w.value,r=>(n(),x(V,{key:r.id,cols:"12",sm:"6",lg:"4"},{default:a(()=>[t(ve,{post:r},null,8,["post"])]),_:2},1024))),128))]),_:1})),C.value.last_page>1?(n(),d("div",ye,[t(Z,{modelValue:u.value,"onUpdate:modelValue":[e[4]||(e[4]=r=>u.value=r),g],length:C.value.last_page,"total-visible":7,density:"comfortable"},null,8,["modelValue","length"])])):y("",!0)]),_:1})]),_:1})]),_:1})])])}}},Ve=A(xe,[["__scopeId","data-v-29ee9b6e"]]);export{Ve as default};
